import{c as De,g as qs,r as $s,s as Hs,a as Ri,d as Ws,e as Ai}from"./index-3283d1e1.js";var Ct={},zs={get exports(){return Ct},set exports(t){Ct=t}},at=typeof Reflect=="object"?Reflect:null,Pn=at&&typeof at.apply=="function"?at.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Ft;at&&typeof at.ownKeys=="function"?Ft=at.ownKeys:Object.getOwnPropertySymbols?Ft=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ft=function(e){return Object.getOwnPropertyNames(e)};function js(t){console&&console.warn&&console.warn(t)}var Ti=Number.isNaN||function(e){return e!==e};function ne(){ne.init.call(this)}zs.exports=ne;Ct.once=Ys;ne.EventEmitter=ne;ne.prototype._events=void 0;ne.prototype._eventsCount=0;ne.prototype._maxListeners=void 0;var Dn=10;function Vt(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(ne,"defaultMaxListeners",{enumerable:!0,get:function(){return Dn},set:function(t){if(typeof t!="number"||t<0||Ti(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Dn=t}});ne.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ne.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ti(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ii(t){return t._maxListeners===void 0?ne.defaultMaxListeners:t._maxListeners}ne.prototype.getMaxListeners=function(){return Ii(this)};ne.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var d;if(r.length>0&&(d=r[0]),d instanceof Error)throw d;var h=new Error("Unhandled error."+(d?" ("+d.message+")":""));throw h.context=d,h}var b=i[e];if(b===void 0)return!1;if(typeof b=="function")Pn(b,this,r);else for(var R=b.length,E=Ni(b,R),n=0;n<R;++n)Pn(E[n],this,r);return!0};function ki(t,e,r,n){var s,i,d;if(Vt(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),d=i[e]),d===void 0)d=i[e]=r,++t._eventsCount;else if(typeof d=="function"?d=i[e]=n?[r,d]:[d,r]:n?d.unshift(r):d.push(r),s=Ii(t),s>0&&d.length>s&&!d.warned){d.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=d.length,js(h)}return t}ne.prototype.addListener=function(e,r){return ki(this,e,r,!1)};ne.prototype.on=ne.prototype.addListener;ne.prototype.prependListener=function(e,r){return ki(this,e,r,!0)};function Js(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Bi(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=Js.bind(n);return s.listener=r,n.wrapFn=s,s}ne.prototype.once=function(e,r){return Vt(r),this.on(e,Bi(this,e,r)),this};ne.prototype.prependOnceListener=function(e,r){return Vt(r),this.prependListener(e,Bi(this,e,r)),this};ne.prototype.removeListener=function(e,r){var n,s,i,d,h;if(Vt(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,d=n.length-1;d>=0;d--)if(n[d]===r||n[d].listener===r){h=n[d].listener,i=d;break}if(i<0)return this;i===0?n.shift():Vs(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,h||r)}return this};ne.prototype.off=ne.prototype.removeListener;ne.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),d;for(s=0;s<i.length;++s)d=i[s],d!=="removeListener"&&this.removeAllListeners(d);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function Li(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?Ks(s):Ni(s,s.length)}ne.prototype.listeners=function(e){return Li(this,e,!0)};ne.prototype.rawListeners=function(e){return Li(this,e,!1)};ne.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Oi.call(t,e)};ne.prototype.listenerCount=Oi;function Oi(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ne.prototype.eventNames=function(){return this._eventsCount>0?Ft(this._events):[]};function Ni(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Vs(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Ks(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Ys(t,e){return new Promise(function(r,n){function s(d){t.removeListener(e,i),n(d)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}Ui(t,e,i,{once:!0}),e!=="error"&&Qs(t,s,{once:!0})})}function Qs(t,e,r){typeof t.on=="function"&&Ui(t,"error",e,r)}function Ui(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}const Gs="PARSE_ERROR",Zs="INVALID_REQUEST",Xs="METHOD_NOT_FOUND",ea="INVALID_PARAMS",Fi="INTERNAL_ERROR",Xr="SERVER_ERROR",ta=[-32700,-32600,-32601,-32602,-32603],Mt={[Gs]:{code:-32700,message:"Parse error"},[Zs]:{code:-32600,message:"Invalid Request"},[Xs]:{code:-32601,message:"Method not found"},[ea]:{code:-32602,message:"Invalid params"},[Fi]:{code:-32603,message:"Internal error"},[Xr]:{code:-32e3,message:"Server error"}},Pi=Xr;function ra(t){return ta.includes(t)}function qn(t){return Object.keys(Mt).includes(t)?Mt[t]:Mt[Pi]}function na(t){const e=Object.values(Mt).find(r=>r.code===t);return e||Mt[Pi]}function ia(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var vt={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.isBrowserCryptoAvailable=Ke.getSubtleCrypto=Ke.getBrowerCrypto=void 0;function en(){return(De===null||De===void 0?void 0:De.crypto)||(De===null||De===void 0?void 0:De.msCrypto)||{}}Ke.getBrowerCrypto=en;function Di(){const t=en();return t.subtle||t.webkitSubtle}Ke.getSubtleCrypto=Di;function oa(){return!!en()&&!!Di()}Ke.isBrowserCryptoAvailable=oa;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.isBrowser=Ye.isNode=Ye.isReactNative=void 0;function qi(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Ye.isReactNative=qi;function $i(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Ye.isNode=$i;function sa(){return!qi()&&!$i()}Ye.isBrowser=sa;(function(t){var e=De&&De.__createBinding||(Object.create?function(n,s,i,d){d===void 0&&(d=i),Object.defineProperty(n,d,{enumerable:!0,get:function(){return s[i]}})}:function(n,s,i,d){d===void 0&&(d=i),n[d]=s[i]}),r=De&&De.__exportStar||function(n,s){for(var i in n)i!=="default"&&!s.hasOwnProperty(i)&&e(s,n,i)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ke,t),r(Ye,t)})(vt);function Hi(){const t=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return t+e}function aa(t,e,r){return{id:r||Hi(),jsonrpc:"2.0",method:t,params:e}}function Ur(t,e,r){return{id:t,jsonrpc:"2.0",error:ca(e,r)}}function ca(t,e){return typeof t>"u"?qn(Fi):(typeof t=="string"&&(t=Object.assign(Object.assign({},qn(Xr)),{message:t})),typeof e<"u"&&(t.data=e),ra(t.code)&&(t=na(t.code)),t)}class Wi{}class ua extends Wi{constructor(e){super()}}class fa extends Wi{constructor(){super()}}class la extends fa{constructor(e){super()}}const ha="^https?:";function da(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function pa(t,e){const r=da(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function $n(t){return pa(t,ha)}function ga(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function ma(t){return ga(t)&&(va(t)||zi(t))}function va(t){return"result"in t}function zi(t){return"error"in t}class Hn extends la{constructor(e){super(e),this.events=new Ct.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(aa(e.method,e.params||[]),r)}async requestStrict(e,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{zi(i)?s(i.error):n(i.result)});try{await this.connection.send(e,r)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ma(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",()=>this.events.emit("disconnect")),this.connection.on("error",e=>this.events.emit("error",e)),this.hasRegisteredEventListeners=!0)}}var Dt={},_a={get exports(){return Dt},set exports(t){Dt=t}};(function(t,e){var r=typeof self<"u"?self:De,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(d){var h={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function b(l){return l&&DataView.prototype.isPrototypeOf(l)}if(h.arrayBuffer)var R=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],E=ArrayBuffer.isView||function(l){return l&&R.indexOf(Object.prototype.toString.call(l))>-1};function B(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(l))throw new TypeError("Invalid character in header field name");return l.toLowerCase()}function F(l){return typeof l!="string"&&(l=String(l)),l}function N(l){var g={next:function(){var w=l.shift();return{done:w===void 0,value:w}}};return h.iterable&&(g[Symbol.iterator]=function(){return g}),g}function O(l){this.map={},l instanceof O?l.forEach(function(g,w){this.append(w,g)},this):Array.isArray(l)?l.forEach(function(g){this.append(g[0],g[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(g){this.append(g,l[g])},this)}O.prototype.append=function(l,g){l=B(l),g=F(g);var w=this.map[l];this.map[l]=w?w+", "+g:g},O.prototype.delete=function(l){delete this.map[B(l)]},O.prototype.get=function(l){return l=B(l),this.has(l)?this.map[l]:null},O.prototype.has=function(l){return this.map.hasOwnProperty(B(l))},O.prototype.set=function(l,g){this.map[B(l)]=F(g)},O.prototype.forEach=function(l,g){for(var w in this.map)this.map.hasOwnProperty(w)&&l.call(g,this.map[w],w,this)},O.prototype.keys=function(){var l=[];return this.forEach(function(g,w){l.push(w)}),N(l)},O.prototype.values=function(){var l=[];return this.forEach(function(g){l.push(g)}),N(l)},O.prototype.entries=function(){var l=[];return this.forEach(function(g,w){l.push([w,g])}),N(l)},h.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function q(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function C(l){return new Promise(function(g,w){l.onload=function(){g(l.result)},l.onerror=function(){w(l.error)}})}function A(l){var g=new FileReader,w=C(g);return g.readAsArrayBuffer(l),w}function I(l){var g=new FileReader,w=C(g);return g.readAsText(l),w}function T(l){for(var g=new Uint8Array(l),w=new Array(g.length),S=0;S<g.length;S++)w[S]=String.fromCharCode(g[S]);return w.join("")}function L(l){if(l.slice)return l.slice(0);var g=new Uint8Array(l.byteLength);return g.set(new Uint8Array(l)),g.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(l){this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:h.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:h.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():h.arrayBuffer&&h.blob&&b(l)?(this._bodyArrayBuffer=L(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||E(l))?this._bodyArrayBuffer=L(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var l=q(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?q(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var l=q(this);if(l)return l;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(ie)}),this.json=function(){return this.text().then(JSON.parse)},this}var W=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(l){var g=l.toUpperCase();return W.indexOf(g)>-1?g:l}function j(l,g){g=g||{};var w=g.body;if(l instanceof j){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,g.headers||(this.headers=new O(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!w&&l._bodyInit!=null&&(w=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=g.credentials||this.credentials||"same-origin",(g.headers||!this.headers)&&(this.headers=new O(g.headers)),this.method=V(g.method||this.method||"GET"),this.mode=g.mode||this.mode||null,this.signal=g.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function ie(l){var g=new FormData;return l.trim().split("&").forEach(function(w){if(w){var S=w.split("="),m=S.shift().replace(/\+/g," "),a=S.join("=").replace(/\+/g," ");g.append(decodeURIComponent(m),decodeURIComponent(a))}}),g}function M(l){var g=new O,w=l.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(S){var m=S.split(":"),a=m.shift().trim();if(a){var _=m.join(":").trim();g.append(a,_)}}),g}H.call(j.prototype);function o(l,g){g||(g={}),this.type="default",this.status=g.status===void 0?200:g.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in g?g.statusText:"OK",this.headers=new O(g.headers),this.url=g.url||"",this._initBody(l)}H.call(o.prototype),o.prototype.clone=function(){return new o(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},o.error=function(){var l=new o(null,{status:0,statusText:""});return l.type="error",l};var f=[301,302,303,307,308];o.redirect=function(l,g){if(f.indexOf(g)===-1)throw new RangeError("Invalid status code");return new o(null,{status:g,headers:{location:l}})},d.DOMException=i.DOMException;try{new d.DOMException}catch{d.DOMException=function(g,w){this.message=g,this.name=w;var S=Error(g);this.stack=S.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function p(l,g){return new Promise(function(w,S){var m=new j(l,g);if(m.signal&&m.signal.aborted)return S(new d.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function _(){a.abort()}a.onload=function(){var P={status:a.status,statusText:a.statusText,headers:M(a.getAllResponseHeaders()||"")};P.url="responseURL"in a?a.responseURL:P.headers.get("X-Request-URL");var D="response"in a?a.response:a.responseText;w(new o(D,P))},a.onerror=function(){S(new TypeError("Network request failed"))},a.ontimeout=function(){S(new TypeError("Network request failed"))},a.onabort=function(){S(new d.DOMException("Aborted","AbortError"))},a.open(m.method,m.url,!0),m.credentials==="include"?a.withCredentials=!0:m.credentials==="omit"&&(a.withCredentials=!1),"responseType"in a&&h.blob&&(a.responseType="blob"),m.headers.forEach(function(P,D){a.setRequestHeader(D,P)}),m.signal&&(m.signal.addEventListener("abort",_),a.onreadystatechange=function(){a.readyState===4&&m.signal.removeEventListener("abort",_)}),a.send(typeof m._bodyInit>"u"?null:m._bodyInit)})}return p.polyfill=!0,i.fetch||(i.fetch=p,i.Headers=O,i.Request=j,i.Response=o),d.Headers=O,d.Request=j,d.Response=o,d.fetch=p,Object.defineProperty(d,"__esModule",{value:!0}),d})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(_a,Dt);const Wn=qs(Dt);function ji(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return JSON.parse(t)}catch{return t}}function Fr(t){return typeof t=="string"?t:JSON.stringify(t)}const ya={Accept:"application/json","Content-Type":"application/json"},wa="POST",zn={headers:ya,method:wa},jn=10;class ba{constructor(e){if(this.url=e,this.events=new Ct.EventEmitter,this.isAvailable=!1,this.registering=!1,!$n(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e,r){this.isAvailable||await this.register();try{const n=Fr(e),i=await(await Wn(this.url,Object.assign(Object.assign({},zn),{body:n}))).json();this.onPayload({data:i})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!$n(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{const r=Fr({id:1,jsonrpc:"2.0",method:"test",params:[]});await Wn(e,Object.assign(Object.assign({},zn),{body:r})),this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?ji(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),s=n.message||n.toString(),i=Ur(e,s);this.events.emit("payload",i)}parseError(e,r=this.url){return ia(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>jn&&this.events.setMaxListeners(jn)}}var tn={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});var Ji=ae.getLocalStorage=no=ae.getLocalStorageOrThrow=ro=ae.getCrypto=to=ae.getCryptoOrThrow=eo=ae.getLocation=Xi=ae.getLocationOrThrow=Zi=ae.getNavigator=Gi=ae.getNavigatorOrThrow=Qi=ae.getDocument=Yi=ae.getDocumentOrThrow=Ki=ae.getFromWindowOrThrow=Vi=ae.getFromWindow=void 0;function nt(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}var Vi=ae.getFromWindow=nt;function _t(t){const e=nt(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}var Ki=ae.getFromWindowOrThrow=_t;function Ma(){return _t("document")}var Yi=ae.getDocumentOrThrow=Ma;function Ea(){return nt("document")}var Qi=ae.getDocument=Ea;function xa(){return _t("navigator")}var Gi=ae.getNavigatorOrThrow=xa;function Sa(){return nt("navigator")}var Zi=ae.getNavigator=Sa;function Ca(){return _t("location")}var Xi=ae.getLocationOrThrow=Ca;function Ra(){return nt("location")}var eo=ae.getLocation=Ra;function Aa(){return _t("crypto")}var to=ae.getCryptoOrThrow=Aa;function Ta(){return nt("crypto")}var ro=ae.getCrypto=Ta;function Ia(){return _t("localStorage")}var no=ae.getLocalStorageOrThrow=Ia;function ka(){return nt("localStorage")}Ji=ae.getLocalStorage=ka;Object.defineProperty(tn,"__esModule",{value:!0});var io=tn.getWindowMetadata=void 0;const Jn=ae;function Ba(){let t,e;try{t=Jn.getDocumentOrThrow(),e=Jn.getLocationOrThrow()}catch{return null}function r(){const B=t.getElementsByTagName("link"),F=[];for(let N=0;N<B.length;N++){const O=B[N],q=O.getAttribute("rel");if(q&&q.toLowerCase().indexOf("icon")>-1){const C=O.getAttribute("href");if(C)if(C.toLowerCase().indexOf("https:")===-1&&C.toLowerCase().indexOf("http:")===-1&&C.indexOf("//")!==0){let A=e.protocol+"//"+e.host;if(C.indexOf("/")===0)A+=C;else{const I=e.pathname.split("/");I.pop();const T=I.join("/");A+=T+"/"+C}F.push(A)}else if(C.indexOf("//")===0){const A=e.protocol+C;F.push(A)}else F.push(C)}}return F}function n(...B){const F=t.getElementsByTagName("meta");for(let N=0;N<F.length;N++){const O=F[N],q=["itemprop","property","name"].map(C=>O.getAttribute(C)).filter(C=>C?B.includes(C):!1);if(q.length&&q){const C=O.getAttribute("content");if(C)return C}}return""}function s(){let B=n("name","og:site_name","og:title","twitter:title");return B||(B=t.title),B}function i(){return n("description","og:description","twitter:description","keywords")}const d=s(),h=i(),b=e.origin,R=r();return{description:h,url:b,icons:R,name:d}}io=tn.getWindowMetadata=Ba;var La=globalThis&&globalThis.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],d=0,h=i.length;d<h;d++,s++)n[s]=i[d];return n},Oa=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),Na=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Ua=function(){function t(e,r,n,s){this.name=e,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return t}(),Fa=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Pa=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Da=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,qa=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Vn=3,$a=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",Da]],Kn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ha(t){return t?Yn(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Pa:typeof navigator<"u"?Yn(navigator.userAgent):ja()}function Wa(t){return t!==""&&$a.reduce(function(e,r){var n=r[0],s=r[1];if(e)return e;var i=s.exec(t);return!!i&&[n,i]},!1)}function Yn(t){var e=Wa(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Fa;var s=n[1]&&n[1].split(/[._]/).slice(0,3);s?s.length<Vn&&(s=La(s,Ja(Vn-s.length))):s=[];var i=s.join("."),d=za(t),h=qa.exec(t);return h&&h[1]?new Ua(r,i,d,h[1]):new Oa(r,i,d)}function za(t){for(var e=0,r=Kn.length;e<r;e++){var n=Kn[e],s=n[0],i=n[1],d=i.exec(t);if(d)return s}return null}function ja(){var t=typeof process<"u"&&process.version;return t?new Na(process.version.slice(1)):null}function Ja(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}function Kt(t){return Ha(t)}function Yt(){const t=Kt();return t&&t.os?t.os:void 0}function oo(){const t=Yt();return t?t.toLowerCase().includes("android"):!1}function so(){const t=Yt();return t?t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function ao(){return Yt()?oo()||so():!1}function co(){const t=Kt();return t&&t.name?t.name.toLowerCase()==="node":!1}function uo(){return!co()&&!!fo()}const Va=Vi,Ka=Ki,Ya=Yi,Qa=Qi,Ga=Gi,fo=Zi,Za=Xi,lo=eo,Xa=to,ec=ro,tc=no,Qt=Ji;function Pr(){return io()}const ho=ji,po=Fr;function rn(t,e){const r=po(e),n=Qt();n&&n.setItem(t,r)}function nn(t){let e=null,r=null;const n=Qt();return n&&(r=n.getItem(t)),e=r&&ho(r),e}function on(t){const e=Qt();e&&e.removeItem(t)}const qt="WALLETCONNECT_DEEPLINK_CHOICE";function rc(t,e){const r=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${r}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${r}`:""}function nc(t){const e=t.href.split("?")[0];rn(qt,Object.assign(Object.assign({},t),{href:e}))}function go(t,e){return t.filter(r=>r.name.toLowerCase().includes(e.toLowerCase()))[0]}function ic(t,e){let r=t;return e&&(r=e.map(n=>go(t,n)).filter(Boolean)),r}const mo="https://registry.walletconnect.com";function oc(){return mo+"/api/v2/wallets"}function sc(){return mo+"/api/v2/dapps"}function vo(t,e="mobile"){var r;return{name:t.name||"",shortName:t.metadata.shortName||"",color:t.metadata.colors.primary||"",logo:(r=t.image_url.sm)!==null&&r!==void 0?r:"",universalLink:t[e].universal||"",deepLink:t[e].native||""}}function ac(t,e="mobile"){return Object.values(t).filter(r=>!!r[e].universal||!!r[e].native).map(r=>vo(r,e))}const cc=Object.freeze(Object.defineProperty({__proto__:null,detectEnv:Kt,detectOS:Yt,formatIOSMobile:rc,formatMobileRegistry:ac,formatMobileRegistryEntry:vo,getClientMeta:Pr,getCrypto:ec,getCryptoOrThrow:Xa,getDappRegistryUrl:sc,getDocument:Qa,getDocumentOrThrow:Ya,getFromWindow:Va,getFromWindowOrThrow:Ka,getLocal:nn,getLocalStorage:Qt,getLocalStorageOrThrow:tc,getLocation:lo,getLocationOrThrow:Za,getMobileLinkRegistry:ic,getMobileRegistryEntry:go,getNavigator:fo,getNavigatorOrThrow:Ga,getWalletRegistryUrl:oc,isAndroid:oo,isBrowser:uo,isIOS:so,isMobile:ao,isNode:co,mobileLinkChoiceKey:qt,removeLocal:on,safeJsonParse:ho,safeJsonStringify:po,saveMobileLinkInfo:nc,setLocal:rn},Symbol.toStringTag,{value:"Module"})),uc=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],sn=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"],fc={1:"mainnet",3:"ropsten",4:"rinkeby",5:"goerli",42:"kovan"};var Dr={},lc={get exports(){return Dr},set exports(t){Dr=t}};(function(t){(function(e,r){function n(M,o){if(!M)throw new Error(o||"Assertion failed")}function s(M,o){M.super_=o;var f=function(){};f.prototype=o.prototype,M.prototype=new f,M.prototype.constructor=M}function i(M,o,f){if(i.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((o==="le"||o==="be")&&(f=o,o=10),this._init(M||0,o||10,f||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var d;try{d=$s.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,f){return o.cmp(f)>0?o:f},i.min=function(o,f){return o.cmp(f)<0?o:f},i.prototype._init=function(o,f,p){if(typeof o=="number")return this._initNumber(o,f,p);if(typeof o=="object")return this._initArray(o,f,p);f==="hex"&&(f=16),n(f===(f|0)&&f>=2&&f<=36),o=o.toString().replace(/\s+/g,"");var l=0;o[0]==="-"&&l++,f===16?this._parseHex(o,l):this._parseBase(o,f,l),o[0]==="-"&&(this.negative=1),this.strip(),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initNumber=function(o,f,p){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),f,p)},i.prototype._initArray=function(o,f,p){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var g,w,S=0;if(p==="be")for(l=o.length-1,g=0;l>=0;l-=3)w=o[l]|o[l-1]<<8|o[l-2]<<16,this.words[g]|=w<<S&67108863,this.words[g+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,g++);else if(p==="le")for(l=0,g=0;l<o.length;l+=3)w=o[l]|o[l+1]<<8|o[l+2]<<16,this.words[g]|=w<<S&67108863,this.words[g+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,g++);return this.strip()};function h(M,o,f){for(var p=0,l=Math.min(M.length,f),g=o;g<l;g++){var w=M.charCodeAt(g)-48;p<<=4,w>=49&&w<=54?p|=w-49+10:w>=17&&w<=22?p|=w-17+10:p|=w&15}return p}i.prototype._parseHex=function(o,f){this.length=Math.ceil((o.length-f)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var l,g,w=0;for(p=o.length-6,l=0;p>=f;p-=6)g=h(o,p,p+6),this.words[l]|=g<<w&67108863,this.words[l+1]|=g>>>26-w&4194303,w+=24,w>=26&&(w-=26,l++);p+6!==f&&(g=h(o,f,p+6),this.words[l]|=g<<w&67108863,this.words[l+1]|=g>>>26-w&4194303),this.strip()};function b(M,o,f,p){for(var l=0,g=Math.min(M.length,f),w=o;w<g;w++){var S=M.charCodeAt(w)-48;l*=p,S>=49?l+=S-49+10:S>=17?l+=S-17+10:l+=S}return l}i.prototype._parseBase=function(o,f,p){this.words=[0],this.length=1;for(var l=0,g=1;g<=67108863;g*=f)l++;l--,g=g/f|0;for(var w=o.length-p,S=w%l,m=Math.min(w,w-S)+p,a=0,_=p;_<m;_+=l)a=b(o,_,_+l,f),this.imuln(g),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(S!==0){var P=1;for(a=b(o,_,o.length,f),_=0;_<S;_++)P*=f;this.imuln(P),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}},i.prototype.copy=function(o){o.words=new Array(this.length);for(var f=0;f<this.length;f++)o.words[f]=this.words[f];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var R=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],B=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,f){o=o||10,f=f|0||1;var p;if(o===16||o==="hex"){p="";for(var l=0,g=0,w=0;w<this.length;w++){var S=this.words[w],m=((S<<l|g)&16777215).toString(16);g=S>>>24-l&16777215,g!==0||w!==this.length-1?p=R[6-m.length]+m+p:p=m+p,l+=2,l>=26&&(l-=26,w--)}for(g!==0&&(p=g.toString(16)+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(o===(o|0)&&o>=2&&o<=36){var a=E[o],_=B[o];p="";var P=this.clone();for(P.negative=0;!P.isZero();){var D=P.modn(_).toString(o);P=P.idivn(_),P.isZero()?p=D+p:p=R[a-D.length]+D+p}for(this.isZero()&&(p="0"+p);p.length%f!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,f){return n(typeof d<"u"),this.toArrayLike(d,o,f)},i.prototype.toArray=function(o,f){return this.toArrayLike(Array,o,f)},i.prototype.toArrayLike=function(o,f,p){var l=this.byteLength(),g=p||Math.max(1,l);n(l<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0"),this.strip();var w=f==="le",S=new o(g),m,a,_=this.clone();if(w){for(a=0;!_.isZero();a++)m=_.andln(255),_.iushrn(8),S[a]=m;for(;a<g;a++)S[a]=0}else{for(a=0;a<g-l;a++)S[a]=0;for(a=0;!_.isZero();a++)m=_.andln(255),_.iushrn(8),S[g-a-1]=m}return S},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var f=o,p=0;return f>=4096&&(p+=13,f>>>=13),f>=64&&(p+=7,f>>>=7),f>=8&&(p+=4,f>>>=4),f>=2&&(p+=2,f>>>=2),p+f},i.prototype._zeroBits=function(o){if(o===0)return 26;var f=o,p=0;return f&8191||(p+=13,f>>>=13),f&127||(p+=7,f>>>=7),f&15||(p+=4,f>>>=4),f&3||(p+=2,f>>>=2),f&1||p++,p},i.prototype.bitLength=function(){var o=this.words[this.length-1],f=this._countBits(o);return(this.length-1)*26+f};function F(M){for(var o=new Array(M.bitLength()),f=0;f<o.length;f++){var p=f/26|0,l=f%26;o[f]=(M.words[p]&1<<l)>>>l}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,f=0;f<this.length;f++){var p=this._zeroBits(this.words[f]);if(o+=p,p!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var f=0;f<o.length;f++)this.words[f]=this.words[f]|o.words[f];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var f;this.length>o.length?f=o:f=this;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]&o.words[p];return this.length=f.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var f,p;this.length>o.length?(f=this,p=o):(f=o,p=this);for(var l=0;l<p.length;l++)this.words[l]=f.words[l]^p.words[l];if(this!==f)for(;l<f.length;l++)this.words[l]=f.words[l];return this.length=f.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var f=Math.ceil(o/26)|0,p=o%26;this._expand(f),p>0&&f--;for(var l=0;l<f;l++)this.words[l]=~this.words[l]&67108863;return p>0&&(this.words[l]=~this.words[l]&67108863>>26-p),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,f){n(typeof o=="number"&&o>=0);var p=o/26|0,l=o%26;return this._expand(p+1),f?this.words[p]=this.words[p]|1<<l:this.words[p]=this.words[p]&~(1<<l),this.strip()},i.prototype.iadd=function(o){var f;if(this.negative!==0&&o.negative===0)return this.negative=0,f=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,f=this.isub(o),o.negative=1,f._normSign();var p,l;this.length>o.length?(p=this,l=o):(p=o,l=this);for(var g=0,w=0;w<l.length;w++)f=(p.words[w]|0)+(l.words[w]|0)+g,this.words[w]=f&67108863,g=f>>>26;for(;g!==0&&w<p.length;w++)f=(p.words[w]|0)+g,this.words[w]=f&67108863,g=f>>>26;if(this.length=p.length,g!==0)this.words[this.length]=g,this.length++;else if(p!==this)for(;w<p.length;w++)this.words[w]=p.words[w];return this},i.prototype.add=function(o){var f;return o.negative!==0&&this.negative===0?(o.negative=0,f=this.sub(o),o.negative^=1,f):o.negative===0&&this.negative!==0?(this.negative=0,f=o.sub(this),this.negative=1,f):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var f=this.iadd(o);return o.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var p=this.cmp(o);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,g;p>0?(l=this,g=o):(l=o,g=this);for(var w=0,S=0;S<g.length;S++)f=(l.words[S]|0)-(g.words[S]|0)+w,w=f>>26,this.words[S]=f&67108863;for(;w!==0&&S<l.length;S++)f=(l.words[S]|0)+w,w=f>>26,this.words[S]=f&67108863;if(w===0&&S<l.length&&l!==this)for(;S<l.length;S++)this.words[S]=l.words[S];return this.length=Math.max(this.length,S),l!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(M,o,f){f.negative=o.negative^M.negative;var p=M.length+o.length|0;f.length=p,p=p-1|0;var l=M.words[0]|0,g=o.words[0]|0,w=l*g,S=w&67108863,m=w/67108864|0;f.words[0]=S;for(var a=1;a<p;a++){for(var _=m>>>26,P=m&67108863,D=Math.min(a,o.length-1),z=Math.max(0,a-M.length+1);z<=D;z++){var Q=a-z|0;l=M.words[Q]|0,g=o.words[z]|0,w=l*g+P,_+=w/67108864|0,P=w&67108863}f.words[a]=P|0,m=_|0}return m!==0?f.words[a]=m|0:f.length--,f.strip()}var O=function(o,f,p){var l=o.words,g=f.words,w=p.words,S=0,m,a,_,P=l[0]|0,D=P&8191,z=P>>>13,Q=l[1]|0,ee=Q&8191,re=Q>>>13,$e=l[2]|0,te=$e&8191,se=$e>>>13,Lt=l[3]|0,fe=Lt&8191,ce=Lt>>>13,Ue=l[4]|0,ue=Ue&8191,de=Ue>>>13,v=l[5]|0,c=v&8191,u=v>>>13,y=l[6]|0,x=y&8191,k=y>>>13,U=l[7]|0,J=U&8191,K=U>>>13,oe=l[8]|0,Z=oe&8191,G=oe>>>13,tt=l[9]|0,le=tt&8191,he=tt>>>13,An=g[0]|0,pe=An&8191,ge=An>>>13,Tn=g[1]|0,me=Tn&8191,ve=Tn>>>13,In=g[2]|0,_e=In&8191,ye=In>>>13,kn=g[3]|0,we=kn&8191,be=kn>>>13,Bn=g[4]|0,Me=Bn&8191,Ee=Bn>>>13,Ln=g[5]|0,xe=Ln&8191,Se=Ln>>>13,On=g[6]|0,Ce=On&8191,Re=On>>>13,Nn=g[7]|0,Ae=Nn&8191,Te=Nn>>>13,Un=g[8]|0,Ie=Un&8191,ke=Un>>>13,Fn=g[9]|0,Be=Fn&8191,Le=Fn>>>13;p.negative=o.negative^f.negative,p.length=19,m=Math.imul(D,pe),a=Math.imul(D,ge),a=a+Math.imul(z,pe)|0,_=Math.imul(z,ge);var sr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(sr>>>26)|0,sr&=67108863,m=Math.imul(ee,pe),a=Math.imul(ee,ge),a=a+Math.imul(re,pe)|0,_=Math.imul(re,ge),m=m+Math.imul(D,me)|0,a=a+Math.imul(D,ve)|0,a=a+Math.imul(z,me)|0,_=_+Math.imul(z,ve)|0;var ar=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(ar>>>26)|0,ar&=67108863,m=Math.imul(te,pe),a=Math.imul(te,ge),a=a+Math.imul(se,pe)|0,_=Math.imul(se,ge),m=m+Math.imul(ee,me)|0,a=a+Math.imul(ee,ve)|0,a=a+Math.imul(re,me)|0,_=_+Math.imul(re,ve)|0,m=m+Math.imul(D,_e)|0,a=a+Math.imul(D,ye)|0,a=a+Math.imul(z,_e)|0,_=_+Math.imul(z,ye)|0;var cr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(cr>>>26)|0,cr&=67108863,m=Math.imul(fe,pe),a=Math.imul(fe,ge),a=a+Math.imul(ce,pe)|0,_=Math.imul(ce,ge),m=m+Math.imul(te,me)|0,a=a+Math.imul(te,ve)|0,a=a+Math.imul(se,me)|0,_=_+Math.imul(se,ve)|0,m=m+Math.imul(ee,_e)|0,a=a+Math.imul(ee,ye)|0,a=a+Math.imul(re,_e)|0,_=_+Math.imul(re,ye)|0,m=m+Math.imul(D,we)|0,a=a+Math.imul(D,be)|0,a=a+Math.imul(z,we)|0,_=_+Math.imul(z,be)|0;var ur=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(ur>>>26)|0,ur&=67108863,m=Math.imul(ue,pe),a=Math.imul(ue,ge),a=a+Math.imul(de,pe)|0,_=Math.imul(de,ge),m=m+Math.imul(fe,me)|0,a=a+Math.imul(fe,ve)|0,a=a+Math.imul(ce,me)|0,_=_+Math.imul(ce,ve)|0,m=m+Math.imul(te,_e)|0,a=a+Math.imul(te,ye)|0,a=a+Math.imul(se,_e)|0,_=_+Math.imul(se,ye)|0,m=m+Math.imul(ee,we)|0,a=a+Math.imul(ee,be)|0,a=a+Math.imul(re,we)|0,_=_+Math.imul(re,be)|0,m=m+Math.imul(D,Me)|0,a=a+Math.imul(D,Ee)|0,a=a+Math.imul(z,Me)|0,_=_+Math.imul(z,Ee)|0;var fr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(fr>>>26)|0,fr&=67108863,m=Math.imul(c,pe),a=Math.imul(c,ge),a=a+Math.imul(u,pe)|0,_=Math.imul(u,ge),m=m+Math.imul(ue,me)|0,a=a+Math.imul(ue,ve)|0,a=a+Math.imul(de,me)|0,_=_+Math.imul(de,ve)|0,m=m+Math.imul(fe,_e)|0,a=a+Math.imul(fe,ye)|0,a=a+Math.imul(ce,_e)|0,_=_+Math.imul(ce,ye)|0,m=m+Math.imul(te,we)|0,a=a+Math.imul(te,be)|0,a=a+Math.imul(se,we)|0,_=_+Math.imul(se,be)|0,m=m+Math.imul(ee,Me)|0,a=a+Math.imul(ee,Ee)|0,a=a+Math.imul(re,Me)|0,_=_+Math.imul(re,Ee)|0,m=m+Math.imul(D,xe)|0,a=a+Math.imul(D,Se)|0,a=a+Math.imul(z,xe)|0,_=_+Math.imul(z,Se)|0;var lr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(lr>>>26)|0,lr&=67108863,m=Math.imul(x,pe),a=Math.imul(x,ge),a=a+Math.imul(k,pe)|0,_=Math.imul(k,ge),m=m+Math.imul(c,me)|0,a=a+Math.imul(c,ve)|0,a=a+Math.imul(u,me)|0,_=_+Math.imul(u,ve)|0,m=m+Math.imul(ue,_e)|0,a=a+Math.imul(ue,ye)|0,a=a+Math.imul(de,_e)|0,_=_+Math.imul(de,ye)|0,m=m+Math.imul(fe,we)|0,a=a+Math.imul(fe,be)|0,a=a+Math.imul(ce,we)|0,_=_+Math.imul(ce,be)|0,m=m+Math.imul(te,Me)|0,a=a+Math.imul(te,Ee)|0,a=a+Math.imul(se,Me)|0,_=_+Math.imul(se,Ee)|0,m=m+Math.imul(ee,xe)|0,a=a+Math.imul(ee,Se)|0,a=a+Math.imul(re,xe)|0,_=_+Math.imul(re,Se)|0,m=m+Math.imul(D,Ce)|0,a=a+Math.imul(D,Re)|0,a=a+Math.imul(z,Ce)|0,_=_+Math.imul(z,Re)|0;var hr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(hr>>>26)|0,hr&=67108863,m=Math.imul(J,pe),a=Math.imul(J,ge),a=a+Math.imul(K,pe)|0,_=Math.imul(K,ge),m=m+Math.imul(x,me)|0,a=a+Math.imul(x,ve)|0,a=a+Math.imul(k,me)|0,_=_+Math.imul(k,ve)|0,m=m+Math.imul(c,_e)|0,a=a+Math.imul(c,ye)|0,a=a+Math.imul(u,_e)|0,_=_+Math.imul(u,ye)|0,m=m+Math.imul(ue,we)|0,a=a+Math.imul(ue,be)|0,a=a+Math.imul(de,we)|0,_=_+Math.imul(de,be)|0,m=m+Math.imul(fe,Me)|0,a=a+Math.imul(fe,Ee)|0,a=a+Math.imul(ce,Me)|0,_=_+Math.imul(ce,Ee)|0,m=m+Math.imul(te,xe)|0,a=a+Math.imul(te,Se)|0,a=a+Math.imul(se,xe)|0,_=_+Math.imul(se,Se)|0,m=m+Math.imul(ee,Ce)|0,a=a+Math.imul(ee,Re)|0,a=a+Math.imul(re,Ce)|0,_=_+Math.imul(re,Re)|0,m=m+Math.imul(D,Ae)|0,a=a+Math.imul(D,Te)|0,a=a+Math.imul(z,Ae)|0,_=_+Math.imul(z,Te)|0;var dr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(Z,pe),a=Math.imul(Z,ge),a=a+Math.imul(G,pe)|0,_=Math.imul(G,ge),m=m+Math.imul(J,me)|0,a=a+Math.imul(J,ve)|0,a=a+Math.imul(K,me)|0,_=_+Math.imul(K,ve)|0,m=m+Math.imul(x,_e)|0,a=a+Math.imul(x,ye)|0,a=a+Math.imul(k,_e)|0,_=_+Math.imul(k,ye)|0,m=m+Math.imul(c,we)|0,a=a+Math.imul(c,be)|0,a=a+Math.imul(u,we)|0,_=_+Math.imul(u,be)|0,m=m+Math.imul(ue,Me)|0,a=a+Math.imul(ue,Ee)|0,a=a+Math.imul(de,Me)|0,_=_+Math.imul(de,Ee)|0,m=m+Math.imul(fe,xe)|0,a=a+Math.imul(fe,Se)|0,a=a+Math.imul(ce,xe)|0,_=_+Math.imul(ce,Se)|0,m=m+Math.imul(te,Ce)|0,a=a+Math.imul(te,Re)|0,a=a+Math.imul(se,Ce)|0,_=_+Math.imul(se,Re)|0,m=m+Math.imul(ee,Ae)|0,a=a+Math.imul(ee,Te)|0,a=a+Math.imul(re,Ae)|0,_=_+Math.imul(re,Te)|0,m=m+Math.imul(D,Ie)|0,a=a+Math.imul(D,ke)|0,a=a+Math.imul(z,Ie)|0,_=_+Math.imul(z,ke)|0;var pr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(pr>>>26)|0,pr&=67108863,m=Math.imul(le,pe),a=Math.imul(le,ge),a=a+Math.imul(he,pe)|0,_=Math.imul(he,ge),m=m+Math.imul(Z,me)|0,a=a+Math.imul(Z,ve)|0,a=a+Math.imul(G,me)|0,_=_+Math.imul(G,ve)|0,m=m+Math.imul(J,_e)|0,a=a+Math.imul(J,ye)|0,a=a+Math.imul(K,_e)|0,_=_+Math.imul(K,ye)|0,m=m+Math.imul(x,we)|0,a=a+Math.imul(x,be)|0,a=a+Math.imul(k,we)|0,_=_+Math.imul(k,be)|0,m=m+Math.imul(c,Me)|0,a=a+Math.imul(c,Ee)|0,a=a+Math.imul(u,Me)|0,_=_+Math.imul(u,Ee)|0,m=m+Math.imul(ue,xe)|0,a=a+Math.imul(ue,Se)|0,a=a+Math.imul(de,xe)|0,_=_+Math.imul(de,Se)|0,m=m+Math.imul(fe,Ce)|0,a=a+Math.imul(fe,Re)|0,a=a+Math.imul(ce,Ce)|0,_=_+Math.imul(ce,Re)|0,m=m+Math.imul(te,Ae)|0,a=a+Math.imul(te,Te)|0,a=a+Math.imul(se,Ae)|0,_=_+Math.imul(se,Te)|0,m=m+Math.imul(ee,Ie)|0,a=a+Math.imul(ee,ke)|0,a=a+Math.imul(re,Ie)|0,_=_+Math.imul(re,ke)|0,m=m+Math.imul(D,Be)|0,a=a+Math.imul(D,Le)|0,a=a+Math.imul(z,Be)|0,_=_+Math.imul(z,Le)|0;var gr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(gr>>>26)|0,gr&=67108863,m=Math.imul(le,me),a=Math.imul(le,ve),a=a+Math.imul(he,me)|0,_=Math.imul(he,ve),m=m+Math.imul(Z,_e)|0,a=a+Math.imul(Z,ye)|0,a=a+Math.imul(G,_e)|0,_=_+Math.imul(G,ye)|0,m=m+Math.imul(J,we)|0,a=a+Math.imul(J,be)|0,a=a+Math.imul(K,we)|0,_=_+Math.imul(K,be)|0,m=m+Math.imul(x,Me)|0,a=a+Math.imul(x,Ee)|0,a=a+Math.imul(k,Me)|0,_=_+Math.imul(k,Ee)|0,m=m+Math.imul(c,xe)|0,a=a+Math.imul(c,Se)|0,a=a+Math.imul(u,xe)|0,_=_+Math.imul(u,Se)|0,m=m+Math.imul(ue,Ce)|0,a=a+Math.imul(ue,Re)|0,a=a+Math.imul(de,Ce)|0,_=_+Math.imul(de,Re)|0,m=m+Math.imul(fe,Ae)|0,a=a+Math.imul(fe,Te)|0,a=a+Math.imul(ce,Ae)|0,_=_+Math.imul(ce,Te)|0,m=m+Math.imul(te,Ie)|0,a=a+Math.imul(te,ke)|0,a=a+Math.imul(se,Ie)|0,_=_+Math.imul(se,ke)|0,m=m+Math.imul(ee,Be)|0,a=a+Math.imul(ee,Le)|0,a=a+Math.imul(re,Be)|0,_=_+Math.imul(re,Le)|0;var mr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(mr>>>26)|0,mr&=67108863,m=Math.imul(le,_e),a=Math.imul(le,ye),a=a+Math.imul(he,_e)|0,_=Math.imul(he,ye),m=m+Math.imul(Z,we)|0,a=a+Math.imul(Z,be)|0,a=a+Math.imul(G,we)|0,_=_+Math.imul(G,be)|0,m=m+Math.imul(J,Me)|0,a=a+Math.imul(J,Ee)|0,a=a+Math.imul(K,Me)|0,_=_+Math.imul(K,Ee)|0,m=m+Math.imul(x,xe)|0,a=a+Math.imul(x,Se)|0,a=a+Math.imul(k,xe)|0,_=_+Math.imul(k,Se)|0,m=m+Math.imul(c,Ce)|0,a=a+Math.imul(c,Re)|0,a=a+Math.imul(u,Ce)|0,_=_+Math.imul(u,Re)|0,m=m+Math.imul(ue,Ae)|0,a=a+Math.imul(ue,Te)|0,a=a+Math.imul(de,Ae)|0,_=_+Math.imul(de,Te)|0,m=m+Math.imul(fe,Ie)|0,a=a+Math.imul(fe,ke)|0,a=a+Math.imul(ce,Ie)|0,_=_+Math.imul(ce,ke)|0,m=m+Math.imul(te,Be)|0,a=a+Math.imul(te,Le)|0,a=a+Math.imul(se,Be)|0,_=_+Math.imul(se,Le)|0;var vr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(vr>>>26)|0,vr&=67108863,m=Math.imul(le,we),a=Math.imul(le,be),a=a+Math.imul(he,we)|0,_=Math.imul(he,be),m=m+Math.imul(Z,Me)|0,a=a+Math.imul(Z,Ee)|0,a=a+Math.imul(G,Me)|0,_=_+Math.imul(G,Ee)|0,m=m+Math.imul(J,xe)|0,a=a+Math.imul(J,Se)|0,a=a+Math.imul(K,xe)|0,_=_+Math.imul(K,Se)|0,m=m+Math.imul(x,Ce)|0,a=a+Math.imul(x,Re)|0,a=a+Math.imul(k,Ce)|0,_=_+Math.imul(k,Re)|0,m=m+Math.imul(c,Ae)|0,a=a+Math.imul(c,Te)|0,a=a+Math.imul(u,Ae)|0,_=_+Math.imul(u,Te)|0,m=m+Math.imul(ue,Ie)|0,a=a+Math.imul(ue,ke)|0,a=a+Math.imul(de,Ie)|0,_=_+Math.imul(de,ke)|0,m=m+Math.imul(fe,Be)|0,a=a+Math.imul(fe,Le)|0,a=a+Math.imul(ce,Be)|0,_=_+Math.imul(ce,Le)|0;var _r=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(_r>>>26)|0,_r&=67108863,m=Math.imul(le,Me),a=Math.imul(le,Ee),a=a+Math.imul(he,Me)|0,_=Math.imul(he,Ee),m=m+Math.imul(Z,xe)|0,a=a+Math.imul(Z,Se)|0,a=a+Math.imul(G,xe)|0,_=_+Math.imul(G,Se)|0,m=m+Math.imul(J,Ce)|0,a=a+Math.imul(J,Re)|0,a=a+Math.imul(K,Ce)|0,_=_+Math.imul(K,Re)|0,m=m+Math.imul(x,Ae)|0,a=a+Math.imul(x,Te)|0,a=a+Math.imul(k,Ae)|0,_=_+Math.imul(k,Te)|0,m=m+Math.imul(c,Ie)|0,a=a+Math.imul(c,ke)|0,a=a+Math.imul(u,Ie)|0,_=_+Math.imul(u,ke)|0,m=m+Math.imul(ue,Be)|0,a=a+Math.imul(ue,Le)|0,a=a+Math.imul(de,Be)|0,_=_+Math.imul(de,Le)|0;var yr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(le,xe),a=Math.imul(le,Se),a=a+Math.imul(he,xe)|0,_=Math.imul(he,Se),m=m+Math.imul(Z,Ce)|0,a=a+Math.imul(Z,Re)|0,a=a+Math.imul(G,Ce)|0,_=_+Math.imul(G,Re)|0,m=m+Math.imul(J,Ae)|0,a=a+Math.imul(J,Te)|0,a=a+Math.imul(K,Ae)|0,_=_+Math.imul(K,Te)|0,m=m+Math.imul(x,Ie)|0,a=a+Math.imul(x,ke)|0,a=a+Math.imul(k,Ie)|0,_=_+Math.imul(k,ke)|0,m=m+Math.imul(c,Be)|0,a=a+Math.imul(c,Le)|0,a=a+Math.imul(u,Be)|0,_=_+Math.imul(u,Le)|0;var wr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(wr>>>26)|0,wr&=67108863,m=Math.imul(le,Ce),a=Math.imul(le,Re),a=a+Math.imul(he,Ce)|0,_=Math.imul(he,Re),m=m+Math.imul(Z,Ae)|0,a=a+Math.imul(Z,Te)|0,a=a+Math.imul(G,Ae)|0,_=_+Math.imul(G,Te)|0,m=m+Math.imul(J,Ie)|0,a=a+Math.imul(J,ke)|0,a=a+Math.imul(K,Ie)|0,_=_+Math.imul(K,ke)|0,m=m+Math.imul(x,Be)|0,a=a+Math.imul(x,Le)|0,a=a+Math.imul(k,Be)|0,_=_+Math.imul(k,Le)|0;var br=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(br>>>26)|0,br&=67108863,m=Math.imul(le,Ae),a=Math.imul(le,Te),a=a+Math.imul(he,Ae)|0,_=Math.imul(he,Te),m=m+Math.imul(Z,Ie)|0,a=a+Math.imul(Z,ke)|0,a=a+Math.imul(G,Ie)|0,_=_+Math.imul(G,ke)|0,m=m+Math.imul(J,Be)|0,a=a+Math.imul(J,Le)|0,a=a+Math.imul(K,Be)|0,_=_+Math.imul(K,Le)|0;var Mr=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,m=Math.imul(le,Ie),a=Math.imul(le,ke),a=a+Math.imul(he,Ie)|0,_=Math.imul(he,ke),m=m+Math.imul(Z,Be)|0,a=a+Math.imul(Z,Le)|0,a=a+Math.imul(G,Be)|0,_=_+Math.imul(G,Le)|0;var Er=(S+m|0)+((a&8191)<<13)|0;S=(_+(a>>>13)|0)+(Er>>>26)|0,Er&=67108863,m=Math.imul(le,Be),a=Math.imul(le,Le),a=a+Math.imul(he,Be)|0,_=Math.imul(he,Le);var xr=(S+m|0)+((a&8191)<<13)|0;return S=(_+(a>>>13)|0)+(xr>>>26)|0,xr&=67108863,w[0]=sr,w[1]=ar,w[2]=cr,w[3]=ur,w[4]=fr,w[5]=lr,w[6]=hr,w[7]=dr,w[8]=pr,w[9]=gr,w[10]=mr,w[11]=vr,w[12]=_r,w[13]=yr,w[14]=wr,w[15]=br,w[16]=Mr,w[17]=Er,w[18]=xr,S!==0&&(w[19]=S,p.length++),p};Math.imul||(O=N);function q(M,o,f){f.negative=o.negative^M.negative,f.length=M.length+o.length;for(var p=0,l=0,g=0;g<f.length-1;g++){var w=l;l=0;for(var S=p&67108863,m=Math.min(g,o.length-1),a=Math.max(0,g-M.length+1);a<=m;a++){var _=g-a,P=M.words[_]|0,D=o.words[a]|0,z=P*D,Q=z&67108863;w=w+(z/67108864|0)|0,Q=Q+S|0,S=Q&67108863,w=w+(Q>>>26)|0,l+=w>>>26,w&=67108863}f.words[g]=S,p=w,w=l}return p!==0?f.words[g]=p:f.length--,f.strip()}function C(M,o,f){var p=new A;return p.mulp(M,o,f)}i.prototype.mulTo=function(o,f){var p,l=this.length+o.length;return this.length===10&&o.length===10?p=O(this,o,f):l<63?p=N(this,o,f):l<1024?p=q(this,o,f):p=C(this,o,f),p};function A(M,o){this.x=M,this.y=o}A.prototype.makeRBT=function(o){for(var f=new Array(o),p=i.prototype._countBits(o)-1,l=0;l<o;l++)f[l]=this.revBin(l,p,o);return f},A.prototype.revBin=function(o,f,p){if(o===0||o===p-1)return o;for(var l=0,g=0;g<f;g++)l|=(o&1)<<f-g-1,o>>=1;return l},A.prototype.permute=function(o,f,p,l,g,w){for(var S=0;S<w;S++)l[S]=f[o[S]],g[S]=p[o[S]]},A.prototype.transform=function(o,f,p,l,g,w){this.permute(w,o,f,p,l,g);for(var S=1;S<g;S<<=1)for(var m=S<<1,a=Math.cos(2*Math.PI/m),_=Math.sin(2*Math.PI/m),P=0;P<g;P+=m)for(var D=a,z=_,Q=0;Q<S;Q++){var ee=p[P+Q],re=l[P+Q],$e=p[P+Q+S],te=l[P+Q+S],se=D*$e-z*te;te=D*te+z*$e,$e=se,p[P+Q]=ee+$e,l[P+Q]=re+te,p[P+Q+S]=ee-$e,l[P+Q+S]=re-te,Q!==m&&(se=a*D-_*z,z=a*z+_*D,D=se)}},A.prototype.guessLen13b=function(o,f){var p=Math.max(f,o)|1,l=p&1,g=0;for(p=p/2|0;p;p=p>>>1)g++;return 1<<g+1+l},A.prototype.conjugate=function(o,f,p){if(!(p<=1))for(var l=0;l<p/2;l++){var g=o[l];o[l]=o[p-l-1],o[p-l-1]=g,g=f[l],f[l]=-f[p-l-1],f[p-l-1]=-g}},A.prototype.normalize13b=function(o,f){for(var p=0,l=0;l<f/2;l++){var g=Math.round(o[2*l+1]/f)*8192+Math.round(o[2*l]/f)+p;o[l]=g&67108863,g<67108864?p=0:p=g/67108864|0}return o},A.prototype.convert13b=function(o,f,p,l){for(var g=0,w=0;w<f;w++)g=g+(o[w]|0),p[2*w]=g&8191,g=g>>>13,p[2*w+1]=g&8191,g=g>>>13;for(w=2*f;w<l;++w)p[w]=0;n(g===0),n((g&-8192)===0)},A.prototype.stub=function(o){for(var f=new Array(o),p=0;p<o;p++)f[p]=0;return f},A.prototype.mulp=function(o,f,p){var l=2*this.guessLen13b(o.length,f.length),g=this.makeRBT(l),w=this.stub(l),S=new Array(l),m=new Array(l),a=new Array(l),_=new Array(l),P=new Array(l),D=new Array(l),z=p.words;z.length=l,this.convert13b(o.words,o.length,S,l),this.convert13b(f.words,f.length,_,l),this.transform(S,w,m,a,l,g),this.transform(_,w,P,D,l,g);for(var Q=0;Q<l;Q++){var ee=m[Q]*P[Q]-a[Q]*D[Q];a[Q]=m[Q]*D[Q]+a[Q]*P[Q],m[Q]=ee}return this.conjugate(m,a,l),this.transform(m,a,z,w,l,g),this.conjugate(z,w,l),this.normalize13b(z,l),p.negative=o.negative^f.negative,p.length=o.length+f.length,p.strip()},i.prototype.mul=function(o){var f=new i(null);return f.words=new Array(this.length+o.length),this.mulTo(o,f)},i.prototype.mulf=function(o){var f=new i(null);return f.words=new Array(this.length+o.length),C(this,o,f)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var f=0,p=0;p<this.length;p++){var l=(this.words[p]|0)*o,g=(l&67108863)+(f&67108863);f>>=26,f+=l/67108864|0,f+=g>>>26,this.words[p]=g&67108863}return f!==0&&(this.words[p]=f,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var f=F(o);if(f.length===0)return new i(1);for(var p=this,l=0;l<f.length&&f[l]===0;l++,p=p.sqr());if(++l<f.length)for(var g=p.sqr();l<f.length;l++,g=g.sqr())f[l]!==0&&(p=p.mul(g));return p},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var f=o%26,p=(o-f)/26,l=67108863>>>26-f<<26-f,g;if(f!==0){var w=0;for(g=0;g<this.length;g++){var S=this.words[g]&l,m=(this.words[g]|0)-S<<f;this.words[g]=m|w,w=S>>>26-f}w&&(this.words[g]=w,this.length++)}if(p!==0){for(g=this.length-1;g>=0;g--)this.words[g+p]=this.words[g];for(g=0;g<p;g++)this.words[g]=0;this.length+=p}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,f,p){n(typeof o=="number"&&o>=0);var l;f?l=(f-f%26)/26:l=0;var g=o%26,w=Math.min((o-g)/26,this.length),S=67108863^67108863>>>g<<g,m=p;if(l-=w,l=Math.max(0,l),m){for(var a=0;a<w;a++)m.words[a]=this.words[a];m.length=w}if(w!==0)if(this.length>w)for(this.length-=w,a=0;a<this.length;a++)this.words[a]=this.words[a+w];else this.words[0]=0,this.length=1;var _=0;for(a=this.length-1;a>=0&&(_!==0||a>=l);a--){var P=this.words[a]|0;this.words[a]=_<<26-g|P>>>g,_=P&S}return m&&_!==0&&(m.words[m.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,f,p){return n(this.negative===0),this.iushrn(o,f,p)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var f=o%26,p=(o-f)/26,l=1<<f;if(this.length<=p)return!1;var g=this.words[p];return!!(g&l)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var f=o%26,p=(o-f)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(f!==0&&p++,this.length=Math.min(p,this.length),f!==0){var l=67108863^67108863>>>f<<f;this.words[this.length-1]&=l}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,f,p){var l=o.length+p,g;this._expand(l);var w,S=0;for(g=0;g<o.length;g++){w=(this.words[g+p]|0)+S;var m=(o.words[g]|0)*f;w-=m&67108863,S=(w>>26)-(m/67108864|0),this.words[g+p]=w&67108863}for(;g<this.length-p;g++)w=(this.words[g+p]|0)+S,S=w>>26,this.words[g+p]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,g=0;g<this.length;g++)w=-(this.words[g]|0)+S,S=w>>26,this.words[g]=w&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,f){var p=this.length-o.length,l=this.clone(),g=o,w=g.words[g.length-1]|0,S=this._countBits(w);p=26-S,p!==0&&(g=g.ushln(p),l.iushln(p),w=g.words[g.length-1]|0);var m=l.length-g.length,a;if(f!=="mod"){a=new i(null),a.length=m+1,a.words=new Array(a.length);for(var _=0;_<a.length;_++)a.words[_]=0}var P=l.clone()._ishlnsubmul(g,1,m);P.negative===0&&(l=P,a&&(a.words[m]=1));for(var D=m-1;D>=0;D--){var z=(l.words[g.length+D]|0)*67108864+(l.words[g.length+D-1]|0);for(z=Math.min(z/w|0,67108863),l._ishlnsubmul(g,z,D);l.negative!==0;)z--,l.negative=0,l._ishlnsubmul(g,1,D),l.isZero()||(l.negative^=1);a&&(a.words[D]=z)}return a&&a.strip(),l.strip(),f!=="div"&&p!==0&&l.iushrn(p),{div:a||null,mod:l}},i.prototype.divmod=function(o,f,p){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var l,g,w;return this.negative!==0&&o.negative===0?(w=this.neg().divmod(o,f),f!=="mod"&&(l=w.div.neg()),f!=="div"&&(g=w.mod.neg(),p&&g.negative!==0&&g.iadd(o)),{div:l,mod:g}):this.negative===0&&o.negative!==0?(w=this.divmod(o.neg(),f),f!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&o.negative?(w=this.neg().divmod(o.neg(),f),f!=="div"&&(g=w.mod.neg(),p&&g.negative!==0&&g.isub(o)),{div:w.div,mod:g}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?f==="div"?{div:this.divn(o.words[0]),mod:null}:f==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,f)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var f=this.divmod(o);if(f.mod.isZero())return f.div;var p=f.div.negative!==0?f.mod.isub(o):f.mod,l=o.ushrn(1),g=o.andln(1),w=p.cmp(l);return w<0||g===1&&w===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var f=(1<<26)%o,p=0,l=this.length-1;l>=0;l--)p=(f*p+(this.words[l]|0))%o;return p},i.prototype.idivn=function(o){n(o<=67108863);for(var f=0,p=this.length-1;p>=0;p--){var l=(this.words[p]|0)+f*67108864;this.words[p]=l/o|0,f=l%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var f=this,p=o.clone();f.negative!==0?f=f.umod(o):f=f.clone();for(var l=new i(1),g=new i(0),w=new i(0),S=new i(1),m=0;f.isEven()&&p.isEven();)f.iushrn(1),p.iushrn(1),++m;for(var a=p.clone(),_=f.clone();!f.isZero();){for(var P=0,D=1;!(f.words[0]&D)&&P<26;++P,D<<=1);if(P>0)for(f.iushrn(P);P-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(a),g.isub(_)),l.iushrn(1),g.iushrn(1);for(var z=0,Q=1;!(p.words[0]&Q)&&z<26;++z,Q<<=1);if(z>0)for(p.iushrn(z);z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(a),S.isub(_)),w.iushrn(1),S.iushrn(1);f.cmp(p)>=0?(f.isub(p),l.isub(w),g.isub(S)):(p.isub(f),w.isub(l),S.isub(g))}return{a:w,b:S,gcd:p.iushln(m)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var f=this,p=o.clone();f.negative!==0?f=f.umod(o):f=f.clone();for(var l=new i(1),g=new i(0),w=p.clone();f.cmpn(1)>0&&p.cmpn(1)>0;){for(var S=0,m=1;!(f.words[0]&m)&&S<26;++S,m<<=1);if(S>0)for(f.iushrn(S);S-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var a=0,_=1;!(p.words[0]&_)&&a<26;++a,_<<=1);if(a>0)for(p.iushrn(a);a-- >0;)g.isOdd()&&g.iadd(w),g.iushrn(1);f.cmp(p)>=0?(f.isub(p),l.isub(g)):(p.isub(f),g.isub(l))}var P;return f.cmpn(1)===0?P=l:P=g,P.cmpn(0)<0&&P.iadd(o),P},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var f=this.clone(),p=o.clone();f.negative=0,p.negative=0;for(var l=0;f.isEven()&&p.isEven();l++)f.iushrn(1),p.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;p.isEven();)p.iushrn(1);var g=f.cmp(p);if(g<0){var w=f;f=p,p=w}else if(g===0||p.cmpn(1)===0)break;f.isub(p)}while(!0);return p.iushln(l)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var f=o%26,p=(o-f)/26,l=1<<f;if(this.length<=p)return this._expand(p+1),this.words[p]|=l,this;for(var g=l,w=p;g!==0&&w<this.length;w++){var S=this.words[w]|0;S+=g,g=S>>>26,S&=67108863,this.words[w]=S}return g!==0&&(this.words[w]=g,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var f=o<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var p;if(this.length>1)p=1;else{f&&(o=-o),n(o<=67108863,"Number is too big");var l=this.words[0]|0;p=l===o?0:l<o?-1:1}return this.negative!==0?-p|0:p},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var f=this.ucmp(o);return this.negative!==0?-f|0:f},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var f=0,p=this.length-1;p>=0;p--){var l=this.words[p]|0,g=o.words[p]|0;if(l!==g){l<g?f=-1:l>g&&(f=1);break}}return f},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var I={k256:null,p224:null,p192:null,p25519:null};function T(M,o){this.name=M,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},T.prototype.ireduce=function(o){var f=o,p;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),p=f.bitLength();while(p>this.n);var l=p<this.n?-1:f.ucmp(this.p);return l===0?(f.words[0]=0,f.length=1):l>0?f.isub(this.p):f.strip(),f},T.prototype.split=function(o,f){o.iushrn(this.n,0,f)},T.prototype.imulK=function(o){return o.imul(this.k)};function L(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(L,T),L.prototype.split=function(o,f){for(var p=4194303,l=Math.min(o.length,9),g=0;g<l;g++)f.words[g]=o.words[g];if(f.length=l,o.length<=9){o.words[0]=0,o.length=1;return}var w=o.words[9];for(f.words[f.length++]=w&p,g=10;g<o.length;g++){var S=o.words[g]|0;o.words[g-10]=(S&p)<<4|w>>>22,w=S}w>>>=22,o.words[g-10]=w,w===0&&o.length>10?o.length-=10:o.length-=9},L.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var f=0,p=0;p<o.length;p++){var l=o.words[p]|0;f+=l*977,o.words[p]=f&67108863,f=l*64+(f/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function H(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(H,T);function W(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(W,T);function V(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(V,T),V.prototype.imulK=function(o){for(var f=0,p=0;p<o.length;p++){var l=(o.words[p]|0)*19+f,g=l&67108863;l>>>=26,o.words[p]=g,f=l}return f!==0&&(o.words[o.length++]=f),o},i._prime=function(o){if(I[o])return I[o];var f;if(o==="k256")f=new L;else if(o==="p224")f=new H;else if(o==="p192")f=new W;else if(o==="p25519")f=new V;else throw new Error("Unknown prime "+o);return I[o]=f,f};function j(M){if(typeof M=="string"){var o=i._prime(M);this.m=o.p,this.prime=o}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,f){n((o.negative|f.negative)===0,"red works only with positives"),n(o.red&&o.red===f.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,f){this._verify2(o,f);var p=o.add(f);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},j.prototype.iadd=function(o,f){this._verify2(o,f);var p=o.iadd(f);return p.cmp(this.m)>=0&&p.isub(this.m),p},j.prototype.sub=function(o,f){this._verify2(o,f);var p=o.sub(f);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},j.prototype.isub=function(o,f){this._verify2(o,f);var p=o.isub(f);return p.cmpn(0)<0&&p.iadd(this.m),p},j.prototype.shl=function(o,f){return this._verify1(o),this.imod(o.ushln(f))},j.prototype.imul=function(o,f){return this._verify2(o,f),this.imod(o.imul(f))},j.prototype.mul=function(o,f){return this._verify2(o,f),this.imod(o.mul(f))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var f=this.m.andln(3);if(n(f%2===1),f===3){var p=this.m.add(new i(1)).iushrn(2);return this.pow(o,p)}for(var l=this.m.subn(1),g=0;!l.isZero()&&l.andln(1)===0;)g++,l.iushrn(1);n(!l.isZero());var w=new i(1).toRed(this),S=w.redNeg(),m=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,m).cmp(S)!==0;)a.redIAdd(S);for(var _=this.pow(a,l),P=this.pow(o,l.addn(1).iushrn(1)),D=this.pow(o,l),z=g;D.cmp(w)!==0;){for(var Q=D,ee=0;Q.cmp(w)!==0;ee++)Q=Q.redSqr();n(ee<z);var re=this.pow(_,new i(1).iushln(z-ee-1));P=P.redMul(re),_=re.redSqr(),D=D.redMul(_),z=ee}return P},j.prototype.invm=function(o){var f=o._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},j.prototype.pow=function(o,f){if(f.isZero())return new i(1).toRed(this);if(f.cmpn(1)===0)return o.clone();var p=4,l=new Array(1<<p);l[0]=new i(1).toRed(this),l[1]=o;for(var g=2;g<l.length;g++)l[g]=this.mul(l[g-1],o);var w=l[0],S=0,m=0,a=f.bitLength()%26;for(a===0&&(a=26),g=f.length-1;g>=0;g--){for(var _=f.words[g],P=a-1;P>=0;P--){var D=_>>P&1;if(w!==l[0]&&(w=this.sqr(w)),D===0&&S===0){m=0;continue}S<<=1,S|=D,m++,!(m!==p&&(g!==0||P!==0))&&(w=this.mul(w,l[S]),m=0,S=0)}a=26}return w},j.prototype.convertTo=function(o){var f=o.umod(this.m);return f===o?f.clone():f},j.prototype.convertFrom=function(o){var f=o.clone();return f.red=null,f},i.mont=function(o){return new ie(o)};function ie(M){j.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(ie,j),ie.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},ie.prototype.convertFrom=function(o){var f=this.imod(o.mul(this.rinv));return f.red=null,f},ie.prototype.imul=function(o,f){if(o.isZero()||f.isZero())return o.words[0]=0,o.length=1,o;var p=o.imul(f),l=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(l).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},ie.prototype.mul=function(o,f){if(o.isZero()||f.isZero())return new i(0)._forceRed(this);var p=o.mul(f),l=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=p.isub(l).iushrn(this.shift),w=g;return g.cmp(this.m)>=0?w=g.isub(this.m):g.cmpn(0)<0&&(w=g.iadd(this.m)),w._forceRed(this)},ie.prototype.invm=function(o){var f=this.imod(o._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,De)})(lc);const hc=Dr;var dc=an;an.strict=_o;an.loose=yo;var pc=Object.prototype.toString,gc={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function an(t){return _o(t)||yo(t)}function _o(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function yo(t){return gc[pc.call(t)]}var mc=dc.strict,vc=function(e){if(mc(e)){var r=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(r=r.slice(e.byteOffset,e.byteOffset+e.byteLength)),r}else return Buffer.from(e)};const wo="hex",bo="utf8",Gt="0";function ft(t){return new Uint8Array(t)}function Mo(t,e=!1){const r=t.toString(wo);return e?yt(r):r}function _c(t){return t.toString(bo)}function Zt(t){return vc(t)}function ct(t,e=!1){return Mo(Zt(t),e)}function yc(t){return _c(Zt(t))}function wc(t){return Buffer.from(Ge(t),wo)}function ut(t){return ft(wc(t))}function cn(t){return Buffer.from(t,bo)}function bc(t){return ft(cn(t))}function Mc(t,e=!1){return Mo(cn(t),e)}function Ec(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}function Eo(...t){let e=[];return t.forEach(r=>e=e.concat(Array.from(r))),new Uint8Array([...e])}function xc(t,e=8){const r=t%e;return r?(t-r)/e*e+e:t}function Sc(t,e=8,r=Gt){return Cc(t,xc(t.length,e),r)}function Cc(t,e,r=Gt){return Ac(t,e,!0,r)}function Ge(t){return t.replace(/^0x/,"")}function yt(t){return t.startsWith("0x")?t:`0x${t}`}function xo(t){return t=Ge(t),t=Sc(t,2),t&&(t=yt(t)),t}function Rc(t){const e=t.startsWith("0x");return t=Ge(t),t=t.startsWith(Gt)?t.substring(1):t,e?yt(t):t}function Ac(t,e,r,n=Gt){const s=e-t.length;let i=t;if(s>0){const d=n.repeat(s);i=r?d+t:t+d}return i}function qr(t){return Zt(new Uint8Array(t))}function Tc(t,e){return ct(new Uint8Array(t),!e)}function Ic(t){return ft(t).buffer}function kc(t){return cn(t)}function Bc(t,e){return Mc(t,!e)}function Lc(t){return ut(t).buffer}function So(t,e){const r=Ge(xo(new hc(t).toString(16)));return e?r:yt(r)}function Ot(t){return xo(t)}function Oc(t){return Rc(yt(t))}const Nc=Hi;function Sr(){return((e,r)=>{for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r})()}function Uc(t,e){let r;const n=fc[t];return n&&(r=`https://${n}.infura.io/v3/${e}`),r}function Fc(t,e){let r;const n=Uc(t,e.infuraId);return e.custom&&e.custom[t]?r=e.custom[t]:n&&(r=n),r}function Pc(t){return t===""||typeof t=="string"&&t.trim()===""}function Dc(t){return!(t&&t.length)}function Co(t,e){return Ec(t,e)}function qc(t){return typeof t.method<"u"}function bt(t){return typeof t.result<"u"}function $t(t){return typeof t.error<"u"}function Qn(t){return typeof t.event<"u"}function $c(t){return uc.includes(t)||t.startsWith("wc_")}function Hc(t){return t.method.startsWith("wc_")?!0:!sn.includes(t.method)}function Wc(t){t=Ge(t.toLowerCase());const e=Ge(Hs.keccak_256(kc(t)));let r="";for(let n=0;n<t.length;n++)parseInt(e[n],16)>7?r+=t[n].toUpperCase():r+=t[n];return yt(r)}const zc=t=>t?t.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:t===Wc(t):!1:!1;function Gn(t){return!Dc(t)&&!Co(t[0])&&(t[0]=Bc(t[0])),t}function Cr(t){if(typeof t.type<"u"&&t.type!=="0")return t;if(typeof t.from>"u"||!zc(t.from))throw new Error("Transaction object must include a valid 'from' value.");function e(s){let i=s;return(typeof s=="number"||typeof s=="string"&&!Pc(s))&&(Co(s)?typeof s=="string"&&(i=Ot(s)):i=So(s)),typeof i=="string"&&(i=Oc(i)),i}const r={from:Ot(t.from),to:typeof t.to>"u"?void 0:Ot(t.to),gasPrice:typeof t.gasPrice>"u"?"":e(t.gasPrice),gas:typeof t.gas>"u"?typeof t.gasLimit>"u"?"":e(t.gasLimit):e(t.gas),value:typeof t.value>"u"?"":e(t.value),nonce:typeof t.nonce>"u"?"":e(t.nonce),data:typeof t.data>"u"?"":Ot(t.data)||"0x"},n=["gasPrice","gas","value","nonce"];return Object.keys(r).forEach(s=>{(typeof r[s]>"u"||typeof r[s]=="string"&&!r[s].trim().length)&&n.includes(s)&&delete r[s]}),r}function jc(t){const e=t.message||"Failed or Rejected Request";let r=-32e3;if(t&&!t.code)switch(e){case"Parse error":r=-32700;break;case"Invalid request":r=-32600;break;case"Method not found":r=-32601;break;case"Invalid params":r=-32602;break;case"Internal error":r=-32603;break;default:r=-32e3;break}const n={code:r,message:e};return t.data&&(n.data=t.data),n}var un={},Jc=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Ro="%[a-f0-9]{2}",Zn=new RegExp(Ro,"gi"),Xn=new RegExp("("+Ro+")+","gi");function $r(t,e){try{return decodeURIComponent(t.join(""))}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],$r(r),$r(n))}function Vc(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Zn),r=1;r<e.length;r++)t=$r(e,r).join(""),e=t.match(Zn);return t}}function Kc(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},r=Xn.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=Vc(r[0]);n!==r[0]&&(e[r[0]]=n)}r=Xn.exec(t)}e["%C2"]="�";for(var s=Object.keys(e),i=0;i<s.length;i++){var d=s[i];t=t.replace(new RegExp(d,"g"),e[d])}return t}var Yc=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Kc(t)}},Qc=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]};(function(t){const e=Jc,r=Yc,n=Qc,s=C=>C==null;function i(C){switch(C.arrayFormat){case"index":return A=>(I,T)=>{const L=I.length;return T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?I:T===null?[...I,[b(A,C),"[",L,"]"].join("")]:[...I,[b(A,C),"[",b(L,C),"]=",b(T,C)].join("")]};case"bracket":return A=>(I,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?I:T===null?[...I,[b(A,C),"[]"].join("")]:[...I,[b(A,C),"[]=",b(T,C)].join("")];case"comma":case"separator":return A=>(I,T)=>T==null||T.length===0?I:I.length===0?[[b(A,C),"=",b(T,C)].join("")]:[[I,b(T,C)].join(C.arrayFormatSeparator)];default:return A=>(I,T)=>T===void 0||C.skipNull&&T===null||C.skipEmptyString&&T===""?I:T===null?[...I,b(A,C)]:[...I,[b(A,C),"=",b(T,C)].join("")]}}function d(C){let A;switch(C.arrayFormat){case"index":return(I,T,L)=>{if(A=/\[(\d*)\]$/.exec(I),I=I.replace(/\[\d*\]$/,""),!A){L[I]=T;return}L[I]===void 0&&(L[I]={}),L[I][A[1]]=T};case"bracket":return(I,T,L)=>{if(A=/(\[\])$/.exec(I),I=I.replace(/\[\]$/,""),!A){L[I]=T;return}if(L[I]===void 0){L[I]=[T];return}L[I]=[].concat(L[I],T)};case"comma":case"separator":return(I,T,L)=>{const W=typeof T=="string"&&T.split("").indexOf(C.arrayFormatSeparator)>-1?T.split(C.arrayFormatSeparator).map(V=>R(V,C)):T===null?T:R(T,C);L[I]=W};default:return(I,T,L)=>{if(L[I]===void 0){L[I]=T;return}L[I]=[].concat(L[I],T)}}}function h(C){if(typeof C!="string"||C.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function b(C,A){return A.encode?A.strict?e(C):encodeURIComponent(C):C}function R(C,A){return A.decode?r(C):C}function E(C){return Array.isArray(C)?C.sort():typeof C=="object"?E(Object.keys(C)).sort((A,I)=>Number(A)-Number(I)).map(A=>C[A]):C}function B(C){const A=C.indexOf("#");return A!==-1&&(C=C.slice(0,A)),C}function F(C){let A="";const I=C.indexOf("#");return I!==-1&&(A=C.slice(I)),A}function N(C){C=B(C);const A=C.indexOf("?");return A===-1?"":C.slice(A+1)}function O(C,A){return A.parseNumbers&&!Number.isNaN(Number(C))&&typeof C=="string"&&C.trim()!==""?C=Number(C):A.parseBooleans&&C!==null&&(C.toLowerCase()==="true"||C.toLowerCase()==="false")&&(C=C.toLowerCase()==="true"),C}function q(C,A){A=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},A),h(A.arrayFormatSeparator);const I=d(A),T=Object.create(null);if(typeof C!="string"||(C=C.trim().replace(/^[?#&]/,""),!C))return T;for(const L of C.split("&")){let[H,W]=n(A.decode?L.replace(/\+/g," "):L,"=");W=W===void 0?null:["comma","separator"].includes(A.arrayFormat)?W:R(W,A),I(R(H,A),W,T)}for(const L of Object.keys(T)){const H=T[L];if(typeof H=="object"&&H!==null)for(const W of Object.keys(H))H[W]=O(H[W],A);else T[L]=O(H,A)}return A.sort===!1?T:(A.sort===!0?Object.keys(T).sort():Object.keys(T).sort(A.sort)).reduce((L,H)=>{const W=T[H];return Boolean(W)&&typeof W=="object"&&!Array.isArray(W)?L[H]=E(W):L[H]=W,L},Object.create(null))}t.extract=N,t.parse=q,t.stringify=(C,A)=>{if(!C)return"";A=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},A),h(A.arrayFormatSeparator);const I=W=>A.skipNull&&s(C[W])||A.skipEmptyString&&C[W]==="",T=i(A),L={};for(const W of Object.keys(C))I(W)||(L[W]=C[W]);const H=Object.keys(L);return A.sort!==!1&&H.sort(A.sort),H.map(W=>{const V=C[W];return V===void 0?"":V===null?b(W,A):Array.isArray(V)?V.reduce(T(W),[]).join("&"):b(W,A)+"="+b(V,A)}).filter(W=>W.length>0).join("&")},t.parseUrl=(C,A)=>{A=Object.assign({decode:!0},A);const[I,T]=n(C,"#");return Object.assign({url:I.split("?")[0]||"",query:q(N(C),A)},A&&A.parseFragmentIdentifier&&T?{fragmentIdentifier:R(T,A)}:{})},t.stringifyUrl=(C,A)=>{A=Object.assign({encode:!0,strict:!0},A);const I=B(C.url).split("?")[0]||"",T=t.extract(C.url),L=t.parse(T,{sort:!1}),H=Object.assign(L,C.query);let W=t.stringify(H,A);W&&(W=`?${W}`);let V=F(C.url);return C.fragmentIdentifier&&(V=`#${b(C.fragmentIdentifier,A)}`),`${I}${W}${V}`}})(un);function Gc(t){const e=t.indexOf("?")!==-1?t.indexOf("?"):void 0;return typeof e<"u"?t.substr(e):""}function Zc(t,e){let r=Ao(t);return r=Object.assign(Object.assign({},r),e),t=Xc(r),t}function Ao(t){return un.parse(t)}function Xc(t){return un.stringify(t)}function eu(t){return typeof t.bridge<"u"}function tu(t){const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),s=t.substring(e+1,r);function i(B){const F="@",N=B.split(F);return{handshakeTopic:N[0],version:parseInt(N[1],10)}}const d=i(s),h=typeof r<"u"?t.substr(r):"";function b(B){const F=Ao(B);return{key:F.key||"",bridge:F.bridge||""}}const R=b(h);return Object.assign(Object.assign({protocol:n},d),R)}class ru{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,r){this._eventEmitters.push({event:e,callback:r})}trigger(e){let r=[];e&&(r=this._eventEmitters.filter(n=>n.event===e)),r.forEach(n=>{n.callback()})}}const nu=typeof global.WebSocket<"u"?global.WebSocket:require("ws");class iu{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new ru,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,r,n){if(!r||typeof r!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:r,type:"pub",payload:e,silent:!!n})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,r){this._events.push({event:e,callback:r})}_socketCreate(){if(this._nextSocket)return;const e=ou(this._url,this._protocol,this._version);if(this._nextSocket=new nu(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=r=>this._socketReceive(r),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=r=>this._socketError(r),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const r=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(r):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let r;try{r=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:r.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const n=this._events.filter(s=>s.event==="message");n&&n.length&&n.forEach(s=>s.callback(r))}}_socketError(e){const r=this._events.filter(n=>n.event==="error");r&&r.length&&r.forEach(n=>n.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(r=>this._queue.push({topic:r,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(r=>this._socketSend(r)),this._queue=[]}}function ou(t,e,r){var n,s;const d=(t.startsWith("https")?t.replace("https","wss"):t.startsWith("http")?t.replace("http","ws"):t).split("?"),h=uo()?{protocol:e,version:r,env:"browser",host:((n=lo())===null||n===void 0?void 0:n.host)||""}:{protocol:e,version:r,env:((s=Kt())===null||s===void 0?void 0:s.name)||""},b=Zc(Gc(d[1]||""),h);return d[0]+"?"+b}const Rr="Session currently connected",rt="Session currently disconnected",su="Session Rejected",au="Missing JSON RPC response",cu='JSON-RPC success response must include "result" field',uu='JSON-RPC error response must include "error" field',fu='JSON RPC request must have valid "method" value',lu='JSON RPC request must have valid "id" value',hu="Missing one of the required parameters: bridge / uri / session",ei="JSON RPC response format is invalid",du="URI format is invalid",pu="QRCode Modal not provided",ti="User close QRCode Modal";class gu{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(r=>r.event!==e)}trigger(e){let r=[],n;qc(e)?n=e.method:bt(e)||$t(e)?n=`response:${e.id}`:Qn(e)?n=e.event:n="",n&&(r=this._eventEmitters.filter(s=>s.event===n)),(!r||!r.length)&&!$c(n)&&!Qn(n)&&(r=this._eventEmitters.filter(s=>s.event==="call_request")),r.forEach(s=>{if($t(e)){const i=new Error(e.error.message);s.callback(i,null)}else s.callback(null,e)})}}class mu{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const r=nn(this.storageId);return r&&eu(r)&&(e=r),e}setSession(e){return rn(this.storageId,e),e}removeSession(){on(this.storageId)}}const vu="walletconnect.org",_u="abcdefghijklmnopqrstuvwxyz0123456789",To=_u.split("").map(t=>`https://${t}.bridge.walletconnect.org`);function yu(t){let e=t.indexOf("//")>-1?t.split("/")[2]:t.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function wu(t){return yu(t).split(".").slice(-2).join(".")}function bu(){return Math.floor(Math.random()*To.length)}function Mu(){return To[bu()]}function Eu(t){return wu(t)===vu}function xu(t){return Eu(t)?Mu():t}class Su{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new gu,this._clientMeta=Pr()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new mu(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...sn,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(hu);e.connectorOpts.bridge&&(this.bridge=xu(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const r=e.connectorOpts.session||this._getStorageSession();r&&(this.session=r),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new iu({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const r=Lc(e);this._key=r}get key(){return this._key?Tc(this._key,!0):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Sr()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=Pr()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:r,bridge:n,key:s}=this._parseUri(e);this.handshakeTopic=r,this.bridge=n,this.key=s}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,r){const n={event:e,callback:r};this._eventManager.subscribe(n)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const r=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=r.id,this.handshakeTopic=Sr(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(ti)});const n=()=>{this.killSession()};try{const s=await this._sendCallRequest(r);return s&&n(),s}catch(s){throw n(),s}}async connect(e){if(!this._qrcodeModal)throw new Error(pu);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(r,n)=>{this.on("modal_closed",()=>n(new Error(ti))),this.on("connect",(s,i)=>{if(s)return n(s);r(i.params[0])})}))}async createSession(e){if(this._connected)throw new Error(Rr);if(this.pending)return;this._key=await this._generateKey();const r=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=r.id,this.handshakeTopic=Sr(),this._sendSessionRequest(r,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error(Rr);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},n={id:this.handshakeId,jsonrpc:"2.0",result:r};this._sendResponse(n),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error(Rr);const r=e&&e.message?e.message:su,n=this._formatResponse({id:this.handshakeId,error:{message:r}});this._sendResponse(n),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(rt);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const r={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},n=this._formatRequest({method:"wc_sessionUpdate",params:[r]});this._sendSessionRequest(n,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const r=e?e.message:"Session Disconnected",n={approved:!1,chainId:null,networkId:null,accounts:null},s=this._formatRequest({method:"wc_sessionUpdate",params:[n]});await this._sendRequest(s),this._handleSessionDisconnect(r)}async sendTransaction(e){if(!this._connected)throw new Error(rt);const r=Cr(e),n=this._formatRequest({method:"eth_sendTransaction",params:[r]});return await this._sendCallRequest(n)}async signTransaction(e){if(!this._connected)throw new Error(rt);const r=Cr(e),n=this._formatRequest({method:"eth_signTransaction",params:[r]});return await this._sendCallRequest(n)}async signMessage(e){if(!this._connected)throw new Error(rt);const r=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(r)}async signPersonalMessage(e){if(!this._connected)throw new Error(rt);e=Gn(e);const r=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(r)}async signTypedData(e){if(!this._connected)throw new Error(rt);const r=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(r)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const r=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(r)}unsafeSend(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),new Promise((n,s)=>{this._subscribeToResponse(e.id,(i,d)=>{if(i){s(i);return}if(!d)throw new Error(au);n(d)})})}async sendCustomRequest(e,r){if(!this._connected)throw new Error(rt);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return So(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=Cr(e.params[0]));break;case"personal_sign":e.params&&(e.params=Gn(e.params));break}const n=this._formatRequest(e);return await this._sendCallRequest(n,r)}approveRequest(e){if(bt(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(cu)}rejectRequest(e){if($t(e)){const r=this._formatResponse(e);this._sendResponse(r)}else throw new Error(uu)}transportClose(){this._transport.close()}async _sendRequest(e,r){const n=this._formatRequest(e),s=await this._encrypt(n),i=typeof(r==null?void 0:r.topic)<"u"?r.topic:this.peerId,d=JSON.stringify(s),h=typeof(r==null?void 0:r.forcePushNotification)<"u"?!r.forcePushNotification:Hc(n);this._transport.send(d,i,h)}async _sendResponse(e){const r=await this._encrypt(e),n=this.peerId,s=JSON.stringify(r),i=!0;this._transport.send(s,n,i)}async _sendSessionRequest(e,r,n){this._sendRequest(e,n),this._subscribeToSessionResponse(e.id,r)}_sendCallRequest(e,r){return this._sendRequest(e,r),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:r}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(fu);return{id:typeof e.id>"u"?Nc():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(lu);const r={id:e.id,jsonrpc:"2.0"};if($t(e)){const n=jc(e.error);return Object.assign(Object.assign(Object.assign({},r),e),{error:n})}else if(bt(e))return Object.assign(Object.assign({},r),e);throw new Error(ei)}_handleSessionDisconnect(e){const r=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),on(qt)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:r}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,r){r?r.approved?(this._connected?(r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,r.chainId&&(this.chainId=r.chainId),r.accounts&&(this.accounts=r.accounts),r.peerId&&!this.peerId&&(this.peerId=r.peerId),r.peerMeta&&!this.peerMeta&&(this.peerMeta=r.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let n;try{n=JSON.parse(e.payload)}catch{return}const s=await this._decrypt(n);s&&this._eventManager.trigger(s)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,r){this.on(`response:${e}`,r)}_subscribeToSessionResponse(e,r){this._subscribeToResponse(e,(n,s)=>{if(n){this._handleSessionResponse(n.message);return}bt(s)?this._handleSessionResponse(r,s.result):s.error&&s.error.message?this._handleSessionResponse(s.error.message):this._handleSessionResponse(r)})}_subscribeToCallResponse(e){return new Promise((r,n)=>{this._subscribeToResponse(e,(s,i)=>{if(s){n(s);return}bt(i)?r(i.result):i.error&&i.error.message?n(i.error):n(new Error(ei))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,r)=>{const{request:n}=r.params[0];if(ao()&&this._signingMethods.includes(n.method)){const s=nn(qt);s&&(window.location.href=s.href)}}),this.on("wc_sessionRequest",(e,r)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=r.id,this.peerId=r.params[0].peerId,this.peerMeta=r.params[0].peerMeta;const n=Object.assign(Object.assign({},r),{method:"session_request"});this._eventManager.trigger(n)}),this.on("wc_sessionUpdate",(e,r)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",r.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,r=this.handshakeTopic,n=this.version,s=encodeURIComponent(this.bridge),i=this.key;return`${e}:${r}@${n}?bridge=${s}&key=${i}`}_parseUri(e){const r=tu(e);if(r.protocol===this.protocol){if(!r.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const n=r.handshakeTopic;if(!r.bridge)throw Error("Invalid or missing bridge url parameter value");const s=decodeURIComponent(r.bridge);if(!r.key)throw Error("Invalid or missing key parameter value");const i=r.key;return{handshakeTopic:n,bridge:s,key:i}}else throw new Error(du)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.encrypt(e,r):null}async _decrypt(e){const r=this._key;return this._cryptoLib&&r?await this._cryptoLib.decrypt(e,r):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const r={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(n,s)=>{if(n)throw n;if(e.peerMeta){const i=s.params[0].peerMeta.name;r.peerName=i}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function Cu(t){return vt.getBrowerCrypto().getRandomValues(new Uint8Array(t))}const Io=256,ko=Io,Ru=Io,Ze="AES-CBC",Au=`SHA-${ko}`,Hr="HMAC",Tu="encrypt",Iu="decrypt",ku="sign",Bu="verify";function Lu(t){return t===Ze?{length:ko,name:Ze}:{hash:{name:Au},name:Hr}}function Ou(t){return t===Ze?[Tu,Iu]:[ku,Bu]}async function fn(t,e=Ze){return vt.getSubtleCrypto().importKey("raw",t,Lu(e),!0,Ou(e))}async function Nu(t,e,r){const n=vt.getSubtleCrypto(),s=await fn(e,Ze),i=await n.encrypt({iv:t,name:Ze},s,r);return new Uint8Array(i)}async function Uu(t,e,r){const n=vt.getSubtleCrypto(),s=await fn(e,Ze),i=await n.decrypt({iv:t,name:Ze},s,r);return new Uint8Array(i)}async function Fu(t,e){const r=vt.getSubtleCrypto(),n=await fn(t,Hr),s=await r.sign({length:Ru,name:Hr},n,e);return new Uint8Array(s)}function Pu(t,e,r){return Nu(t,e,r)}function Du(t,e,r){return Uu(t,e,r)}async function Bo(t,e){return await Fu(t,e)}async function Lo(t){const e=(t||256)/8,r=Cu(e);return Ic(Zt(r))}async function Oo(t,e){const r=ut(t.data),n=ut(t.iv),s=ut(t.hmac),i=ct(s,!1),d=Eo(r,n),h=await Bo(e,d),b=ct(h,!1);return Ge(i)===Ge(b)}async function qu(t,e,r){const n=ft(qr(e)),s=r||await Lo(128),i=ft(qr(s)),d=ct(i,!1),h=JSON.stringify(t),b=bc(h),R=await Pu(i,n,b),E=ct(R,!1),B=Eo(R,i),F=await Bo(n,B),N=ct(F,!1);return{data:E,hmac:N,iv:d}}async function $u(t,e){const r=ft(qr(e));if(!r)throw new Error("Missing key: required for decryption");if(!await Oo(t,r))return null;const s=ut(t.data),i=ut(t.iv),d=await Du(i,r,s),h=yc(d);let b;try{b=JSON.parse(h)}catch{return null}return b}const Hu=Object.freeze(Object.defineProperty({__proto__:null,decrypt:$u,encrypt:qu,generateKey:Lo,verifyHmac:Oo},Symbol.toStringTag,{value:"Module"}));class Wu extends Su{constructor(e,r){super({cryptoLib:Hu,connectorOpts:e,pushServerOpts:r})}}const zu=Ri(cc);var It={},ju=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},No={},Xe={},Ju={}.toString,ln=Array.isArray||function(t){return Ju.call(t)=="[object Array]"},Vu=ln;function Ku(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}X.TYPED_ARRAY_SUPPORT=Ku();var ri=X.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function X(t,e,r){return!X.TYPED_ARRAY_SUPPORT&&!(this instanceof X)?new X(t,e,r):typeof t=="number"?Uo(this,t):tf(this,t,e,r)}X.TYPED_ARRAY_SUPPORT&&(X.prototype.__proto__=Uint8Array.prototype,X.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&X[Symbol.species]===X&&Object.defineProperty(X,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}));function hn(t){if(t>=ri)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ri.toString(16)+" bytes");return t|0}function Yu(t){return t!==t}function lt(t,e){var r;return X.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(e),r.__proto__=X.prototype):(r=t,r===null&&(r=new X(e)),r.length=e),r}function Uo(t,e){var r=lt(t,e<0?0:hn(e)|0);if(!X.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)r[n]=0;return r}function Qu(t,e){var r=Po(e)|0,n=lt(t,r),s=n.write(e);return s!==r&&(n=n.slice(0,s)),n}function Wr(t,e){for(var r=e.length<0?0:hn(e.length)|0,n=lt(t,r),s=0;s<r;s+=1)n[s]=e[s]&255;return n}function Gu(t,e,r,n){if(r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var s;return r===void 0&&n===void 0?s=new Uint8Array(e):n===void 0?s=new Uint8Array(e,r):s=new Uint8Array(e,r,n),X.TYPED_ARRAY_SUPPORT?s.__proto__=X.prototype:s=Wr(t,s),s}function Zu(t,e){if(X.isBuffer(e)){var r=hn(e.length)|0,n=lt(t,r);return n.length===0||e.copy(n,0,0,r),n}if(e){if(typeof ArrayBuffer<"u"&&e.buffer instanceof ArrayBuffer||"length"in e)return typeof e.length!="number"||Yu(e.length)?lt(t,0):Wr(t,e);if(e.type==="Buffer"&&Array.isArray(e.data))return Wr(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Fo(t,e){e=e||1/0;for(var r,n=t.length,s=null,i=[],d=0;d<n;++d){if(r=t.charCodeAt(d),r>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(d+1===n){(e-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(e-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function Po(t){if(X.isBuffer(t))return t.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!="string"&&(t=""+t);var e=t.length;return e===0?0:Fo(t).length}function Xu(t,e,r,n){for(var s=0;s<n&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}function ef(t,e,r,n){return Xu(Fo(e,t.length-r),t,r,n)}function tf(t,e,r,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?Gu(t,e,r,n):typeof e=="string"?Qu(t,e):Zu(t,e)}X.prototype.write=function(e,r,n){r===void 0?(n=this.length,r=0):n===void 0&&typeof r=="string"?(n=this.length,r=0):isFinite(r)&&(r=r|0,isFinite(n)?n=n|0:n=void 0);var s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");return ef(this,e,r,n)};X.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var s;if(X.TYPED_ARRAY_SUPPORT)s=this.subarray(e,r),s.__proto__=X.prototype;else{var i=r-e;s=new X(i,void 0);for(var d=0;d<i;++d)s[d]=this[d+e]}return s};X.prototype.copy=function(e,r,n,s){if(n||(n=0),!s&&s!==0&&(s=this.length),r>=e.length&&(r=e.length),r||(r=0),s>0&&s<n&&(s=n),s===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),e.length-r<s-n&&(s=e.length-r+n);var i=s-n,d;if(this===e&&n<r&&r<s)for(d=i-1;d>=0;--d)e[d+r]=this[d+n];else if(i<1e3||!X.TYPED_ARRAY_SUPPORT)for(d=0;d<i;++d)e[d+r]=this[d+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),r);return i};X.prototype.fill=function(e,r,n){if(typeof e=="string"){if(typeof r=="string"?(r=0,n=this.length):typeof n=="string"&&(n=this.length),e.length===1){var s=e.charCodeAt(0);s<256&&(e=s)}}else typeof e=="number"&&(e=e&255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{var d=X.isBuffer(e)?e:new X(e),h=d.length;for(i=0;i<n-r;++i)this[i+r]=d[i%h]}return this};X.concat=function(e,r){if(!Vu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return lt(null,0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var s=Uo(null,r),i=0;for(n=0;n<e.length;++n){var d=e[n];if(!X.isBuffer(d))throw new TypeError('"list" argument must be an Array of Buffers');d.copy(s,i),i+=d.length}return s};X.byteLength=Po;X.prototype._isBuffer=!0;X.isBuffer=function(e){return!!(e!=null&&e._isBuffer)};Xe.alloc=function(t){var e=new X(t);return e.fill(0),e};Xe.from=function(t){return new X(t)};var Fe={},dn,rf=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Fe.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Fe.getSymbolTotalCodewords=function(e){return rf[e]};Fe.getBCHDigit=function(t){for(var e=0;t!==0;)e++,t>>>=1;return e};Fe.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');dn=e};Fe.isKanjiModeEnabled=function(){return typeof dn<"u"};Fe.toSJIS=function(e){return dn(e)};var Xt={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");var n=r.toLowerCase();switch(n){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,s){if(t.isValid(n))return n;try{return e(n)}catch{return s}}})(Xt);function Do(){this.buffer=[],this.length=0}Do.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var nf=Do,ni=Xe;function kt(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=ni.alloc(t*t),this.reservedBit=ni.alloc(t*t)}kt.prototype.set=function(t,e,r,n){var s=t*this.size+e;this.data[s]=r,n&&(this.reservedBit[s]=!0)};kt.prototype.get=function(t,e){return this.data[t*this.size+e]};kt.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};kt.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var of=kt,qo={};(function(t){var e=Fe.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];for(var s=Math.floor(n/7)+2,i=e(n),d=i===145?26:Math.ceil((i-13)/(2*s-2))*2,h=[i-7],b=1;b<s-1;b++)h[b]=h[b-1]-d;return h.push(6),h.reverse()},t.getPositions=function(n){for(var s=[],i=t.getRowColCoords(n),d=i.length,h=0;h<d;h++)for(var b=0;b<d;b++)h===0&&b===0||h===0&&b===d-1||h===d-1&&b===0||s.push([i[h],i[b]]);return s}})(qo);var $o={},sf=Fe.getSymbolSize,ii=7;$o.getPositions=function(e){var r=sf(e);return[[0,0],[r-ii,0],[0,r-ii]]};var Ho={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){for(var i=s.size,d=0,h=0,b=0,R=null,E=null,B=0;B<i;B++){h=b=0,R=E=null;for(var F=0;F<i;F++){var N=s.get(B,F);N===R?h++:(h>=5&&(d+=e.N1+(h-5)),R=N,h=1),N=s.get(F,B),N===E?b++:(b>=5&&(d+=e.N1+(b-5)),E=N,b=1)}h>=5&&(d+=e.N1+(h-5)),b>=5&&(d+=e.N1+(b-5))}return d},t.getPenaltyN2=function(s){for(var i=s.size,d=0,h=0;h<i-1;h++)for(var b=0;b<i-1;b++){var R=s.get(h,b)+s.get(h,b+1)+s.get(h+1,b)+s.get(h+1,b+1);(R===4||R===0)&&d++}return d*e.N2},t.getPenaltyN3=function(s){for(var i=s.size,d=0,h=0,b=0,R=0;R<i;R++){h=b=0;for(var E=0;E<i;E++)h=h<<1&2047|s.get(R,E),E>=10&&(h===1488||h===93)&&d++,b=b<<1&2047|s.get(E,R),E>=10&&(b===1488||b===93)&&d++}return d*e.N3},t.getPenaltyN4=function(s){for(var i=0,d=s.data.length,h=0;h<d;h++)i+=s.data[h];var b=Math.abs(Math.ceil(i*100/d/5)-10);return b*e.N4};function r(n,s,i){switch(n){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(s,i){for(var d=i.size,h=0;h<d;h++)for(var b=0;b<d;b++)i.isReserved(b,h)||i.xor(b,h,r(s,b,h))},t.getBestMask=function(s,i){for(var d=Object.keys(t.Patterns).length,h=0,b=1/0,R=0;R<d;R++){i(R),t.applyMask(R,s);var E=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(R,s),E<b&&(b=E,h=R)}return h}})(Ho);var er={},Ve=Xt,Nt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ut=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];er.getBlocksCount=function(e,r){switch(r){case Ve.L:return Nt[(e-1)*4+0];case Ve.M:return Nt[(e-1)*4+1];case Ve.Q:return Nt[(e-1)*4+2];case Ve.H:return Nt[(e-1)*4+3];default:return}};er.getTotalCodewordsCount=function(e,r){switch(r){case Ve.L:return Ut[(e-1)*4+0];case Ve.M:return Ut[(e-1)*4+1];case Ve.Q:return Ut[(e-1)*4+2];case Ve.H:return Ut[(e-1)*4+3];default:return}};var Wo={},tr={},zo=Xe,Et=zo.alloc(512),Ht=zo.alloc(256);(function(){for(var e=1,r=0;r<255;r++)Et[r]=e,Ht[e]=r,e<<=1,e&256&&(e^=285);for(r=255;r<512;r++)Et[r]=Et[r-255]})();tr.log=function(e){if(e<1)throw new Error("log("+e+")");return Ht[e]};tr.exp=function(e){return Et[e]};tr.mul=function(e,r){return e===0||r===0?0:Et[Ht[e]+Ht[r]]};(function(t){var e=Xe,r=tr;t.mul=function(s,i){for(var d=e.alloc(s.length+i.length-1),h=0;h<s.length;h++)for(var b=0;b<i.length;b++)d[h+b]^=r.mul(s[h],i[b]);return d},t.mod=function(s,i){for(var d=e.from(s);d.length-i.length>=0;){for(var h=d[0],b=0;b<i.length;b++)d[b]^=r.mul(i[b],h);for(var R=0;R<d.length&&d[R]===0;)R++;d=d.slice(R)}return d},t.generateECPolynomial=function(s){for(var i=e.from([1]),d=0;d<s;d++)i=t.mul(i,[1,r.exp(d)]);return i}})(Wo);var jo={},rr={};rr.byteLength=uf;rr.toByteArray=lf;rr.fromByteArray=pf;var He=[],Pe=[],af=typeof Uint8Array<"u"?Uint8Array:Array,Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ot=0,cf=Ar.length;ot<cf;++ot)He[ot]=Ar[ot],Pe[Ar.charCodeAt(ot)]=ot;Pe["-".charCodeAt(0)]=62;Pe["_".charCodeAt(0)]=63;function Jo(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function uf(t){var e=Jo(t),r=e[0],n=e[1];return(r+n)*3/4-n}function ff(t,e,r){return(e+r)*3/4-r}function lf(t){var e,r=Jo(t),n=r[0],s=r[1],i=new af(ff(t,n,s)),d=0,h=s>0?n-4:n,b;for(b=0;b<h;b+=4)e=Pe[t.charCodeAt(b)]<<18|Pe[t.charCodeAt(b+1)]<<12|Pe[t.charCodeAt(b+2)]<<6|Pe[t.charCodeAt(b+3)],i[d++]=e>>16&255,i[d++]=e>>8&255,i[d++]=e&255;return s===2&&(e=Pe[t.charCodeAt(b)]<<2|Pe[t.charCodeAt(b+1)]>>4,i[d++]=e&255),s===1&&(e=Pe[t.charCodeAt(b)]<<10|Pe[t.charCodeAt(b+1)]<<4|Pe[t.charCodeAt(b+2)]>>2,i[d++]=e>>8&255,i[d++]=e&255),i}function hf(t){return He[t>>18&63]+He[t>>12&63]+He[t>>6&63]+He[t&63]}function df(t,e,r){for(var n,s=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(hf(n));return s.join("")}function pf(t){for(var e,r=t.length,n=r%3,s=[],i=16383,d=0,h=r-n;d<h;d+=i)s.push(df(t,d,d+i>h?h:d+i));return n===1?(e=t[r-1],s.push(He[e>>2]+He[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(He[e>>10]+He[e>>4&63]+He[e<<2&63]+"=")),s.join("")}var pn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */pn.read=function(t,e,r,n,s){var i,d,h=s*8-n-1,b=(1<<h)-1,R=b>>1,E=-7,B=r?s-1:0,F=r?-1:1,N=t[e+B];for(B+=F,i=N&(1<<-E)-1,N>>=-E,E+=h;E>0;i=i*256+t[e+B],B+=F,E-=8);for(d=i&(1<<-E)-1,i>>=-E,E+=n;E>0;d=d*256+t[e+B],B+=F,E-=8);if(i===0)i=1-R;else{if(i===b)return d?NaN:(N?-1:1)*(1/0);d=d+Math.pow(2,n),i=i-R}return(N?-1:1)*d*Math.pow(2,i-n)};pn.write=function(t,e,r,n,s,i){var d,h,b,R=i*8-s-1,E=(1<<R)-1,B=E>>1,F=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,N=n?0:i-1,O=n?1:-1,q=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,d=E):(d=Math.floor(Math.log(e)/Math.LN2),e*(b=Math.pow(2,-d))<1&&(d--,b*=2),d+B>=1?e+=F/b:e+=F*Math.pow(2,1-B),e*b>=2&&(d++,b/=2),d+B>=E?(h=0,d=E):d+B>=1?(h=(e*b-1)*Math.pow(2,s),d=d+B):(h=e*Math.pow(2,B-1)*Math.pow(2,s),d=0));s>=8;t[r+N]=h&255,N+=O,h/=256,s-=8);for(d=d<<s|h,R+=s;R>0;t[r+N]=d&255,N+=O,d/=256,R-=8);t[r+N-O]|=q*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){var e=rr,r=pn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;var s=2147483647;t.kMaxLength=s,h.TYPED_ARRAY_SUPPORT=i(),!h.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var v=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(v,c),v.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}});function d(v){if(v>s)throw new RangeError('The value "'+v+'" is invalid for option "size"');var c=new Uint8Array(v);return Object.setPrototypeOf(c,h.prototype),c}function h(v,c,u){if(typeof v=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(v)}return b(v,c,u)}h.poolSize=8192;function b(v,c,u){if(typeof v=="string")return F(v,c);if(ArrayBuffer.isView(v))return O(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(Ue(v,ArrayBuffer)||v&&Ue(v.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(v,SharedArrayBuffer)||v&&Ue(v.buffer,SharedArrayBuffer)))return q(v,c,u);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var y=v.valueOf&&v.valueOf();if(y!=null&&y!==v)return h.from(y,c,u);var x=C(v);if(x)return x;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return h.from(v[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}h.from=function(v,c,u){return b(v,c,u)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function R(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function E(v,c,u){return R(v),v<=0?d(v):c!==void 0?typeof u=="string"?d(v).fill(c,u):d(v).fill(c):d(v)}h.alloc=function(v,c,u){return E(v,c,u)};function B(v){return R(v),d(v<0?0:A(v)|0)}h.allocUnsafe=function(v){return B(v)},h.allocUnsafeSlow=function(v){return B(v)};function F(v,c){if((typeof c!="string"||c==="")&&(c="utf8"),!h.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var u=T(v,c)|0,y=d(u),x=y.write(v,c);return x!==u&&(y=y.slice(0,x)),y}function N(v){for(var c=v.length<0?0:A(v.length)|0,u=d(c),y=0;y<c;y+=1)u[y]=v[y]&255;return u}function O(v){if(Ue(v,Uint8Array)){var c=new Uint8Array(v);return q(c.buffer,c.byteOffset,c.byteLength)}return N(v)}function q(v,c,u){if(c<0||v.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');var y;return c===void 0&&u===void 0?y=new Uint8Array(v):u===void 0?y=new Uint8Array(v,c):y=new Uint8Array(v,c,u),Object.setPrototypeOf(y,h.prototype),y}function C(v){if(h.isBuffer(v)){var c=A(v.length)|0,u=d(c);return u.length===0||v.copy(u,0,0,c),u}if(v.length!==void 0)return typeof v.length!="number"||ue(v.length)?d(0):N(v);if(v.type==="Buffer"&&Array.isArray(v.data))return N(v.data)}function A(v){if(v>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return v|0}function I(v){return+v!=v&&(v=0),h.alloc(+v)}h.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==h.prototype},h.compare=function(c,u){if(Ue(c,Uint8Array)&&(c=h.from(c,c.offset,c.byteLength)),Ue(u,Uint8Array)&&(u=h.from(u,u.offset,u.byteLength)),!h.isBuffer(c)||!h.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;for(var y=c.length,x=u.length,k=0,U=Math.min(y,x);k<U;++k)if(c[k]!==u[k]){y=c[k],x=u[k];break}return y<x?-1:x<y?1:0},h.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return h.alloc(0);var y;if(u===void 0)for(u=0,y=0;y<c.length;++y)u+=c[y].length;var x=h.allocUnsafe(u),k=0;for(y=0;y<c.length;++y){var U=c[y];if(Ue(U,Uint8Array))k+U.length>x.length?h.from(U).copy(x,k):Uint8Array.prototype.set.call(x,U,k);else if(h.isBuffer(U))U.copy(x,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=U.length}return x};function T(v,c){if(h.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||Ue(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var u=v.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&u===0)return 0;for(var x=!1;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return te(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return fe(v).length;default:if(x)return y?-1:te(v).length;c=(""+c).toLowerCase(),x=!0}}h.byteLength=T;function L(v,c,u){var y=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(v||(v="utf8");;)switch(v){case"hex":return a(this,c,u);case"utf8":case"utf-8":return l(this,c,u);case"ascii":return S(this,c,u);case"latin1":case"binary":return m(this,c,u);case"base64":return p(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,c,u);default:if(y)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),y=!0}}h.prototype._isBuffer=!0;function H(v,c,u){var y=v[c];v[c]=v[u],v[u]=y}h.prototype.swap16=function(){var c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<c;u+=2)H(this,u,u+1);return this},h.prototype.swap32=function(){var c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<c;u+=4)H(this,u,u+3),H(this,u+1,u+2);return this},h.prototype.swap64=function(){var c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<c;u+=8)H(this,u,u+7),H(this,u+1,u+6),H(this,u+2,u+5),H(this,u+3,u+4);return this},h.prototype.toString=function(){var c=this.length;return c===0?"":arguments.length===0?l(this,0,c):L.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(c){if(!h.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:h.compare(this,c)===0},h.prototype.inspect=function(){var c="",u=t.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(c,u,y,x,k){if(Ue(c,Uint8Array)&&(c=h.from(c,c.offset,c.byteLength)),!h.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),y===void 0&&(y=c?c.length:0),x===void 0&&(x=0),k===void 0&&(k=this.length),u<0||y>c.length||x<0||k>this.length)throw new RangeError("out of range index");if(x>=k&&u>=y)return 0;if(x>=k)return-1;if(u>=y)return 1;if(u>>>=0,y>>>=0,x>>>=0,k>>>=0,this===c)return 0;for(var U=k-x,J=y-u,K=Math.min(U,J),oe=this.slice(x,k),Z=c.slice(u,y),G=0;G<K;++G)if(oe[G]!==Z[G]){U=oe[G],J=Z[G];break}return U<J?-1:J<U?1:0};function W(v,c,u,y,x){if(v.length===0)return-1;if(typeof u=="string"?(y=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,ue(u)&&(u=x?0:v.length-1),u<0&&(u=v.length+u),u>=v.length){if(x)return-1;u=v.length-1}else if(u<0)if(x)u=0;else return-1;if(typeof c=="string"&&(c=h.from(c,y)),h.isBuffer(c))return c.length===0?-1:V(v,c,u,y,x);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(v,c,u):Uint8Array.prototype.lastIndexOf.call(v,c,u):V(v,[c],u,y,x);throw new TypeError("val must be string, number or Buffer")}function V(v,c,u,y,x){var k=1,U=v.length,J=c.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(v.length<2||c.length<2)return-1;k=2,U/=2,J/=2,u/=2}function K(le,he){return k===1?le[he]:le.readUInt16BE(he*k)}var oe;if(x){var Z=-1;for(oe=u;oe<U;oe++)if(K(v,oe)===K(c,Z===-1?0:oe-Z)){if(Z===-1&&(Z=oe),oe-Z+1===J)return Z*k}else Z!==-1&&(oe-=oe-Z),Z=-1}else for(u+J>U&&(u=U-J),oe=u;oe>=0;oe--){for(var G=!0,tt=0;tt<J;tt++)if(K(v,oe+tt)!==K(c,tt)){G=!1;break}if(G)return oe}return-1}h.prototype.includes=function(c,u,y){return this.indexOf(c,u,y)!==-1},h.prototype.indexOf=function(c,u,y){return W(this,c,u,y,!0)},h.prototype.lastIndexOf=function(c,u,y){return W(this,c,u,y,!1)};function j(v,c,u,y){u=Number(u)||0;var x=v.length-u;y?(y=Number(y),y>x&&(y=x)):y=x;var k=c.length;y>k/2&&(y=k/2);for(var U=0;U<y;++U){var J=parseInt(c.substr(U*2,2),16);if(ue(J))return U;v[u+U]=J}return U}function ie(v,c,u,y){return ce(te(c,v.length-u),v,u,y)}function M(v,c,u,y){return ce(se(c),v,u,y)}function o(v,c,u,y){return ce(fe(c),v,u,y)}function f(v,c,u,y){return ce(Lt(c,v.length-u),v,u,y)}h.prototype.write=function(c,u,y,x){if(u===void 0)x="utf8",y=this.length,u=0;else if(y===void 0&&typeof u=="string")x=u,y=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(y)?(y=y>>>0,x===void 0&&(x="utf8")):(x=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var k=this.length-u;if((y===void 0||y>k)&&(y=k),c.length>0&&(y<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");for(var U=!1;;)switch(x){case"hex":return j(this,c,u,y);case"utf8":case"utf-8":return ie(this,c,u,y);case"ascii":case"latin1":case"binary":return M(this,c,u,y);case"base64":return o(this,c,u,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,c,u,y);default:if(U)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),U=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(v,c,u){return c===0&&u===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(c,u))}function l(v,c,u){u=Math.min(v.length,u);for(var y=[],x=c;x<u;){var k=v[x],U=null,J=k>239?4:k>223?3:k>191?2:1;if(x+J<=u){var K,oe,Z,G;switch(J){case 1:k<128&&(U=k);break;case 2:K=v[x+1],(K&192)===128&&(G=(k&31)<<6|K&63,G>127&&(U=G));break;case 3:K=v[x+1],oe=v[x+2],(K&192)===128&&(oe&192)===128&&(G=(k&15)<<12|(K&63)<<6|oe&63,G>2047&&(G<55296||G>57343)&&(U=G));break;case 4:K=v[x+1],oe=v[x+2],Z=v[x+3],(K&192)===128&&(oe&192)===128&&(Z&192)===128&&(G=(k&15)<<18|(K&63)<<12|(oe&63)<<6|Z&63,G>65535&&G<1114112&&(U=G))}}U===null?(U=65533,J=1):U>65535&&(U-=65536,y.push(U>>>10&1023|55296),U=56320|U&1023),y.push(U),x+=J}return w(y)}var g=4096;function w(v){var c=v.length;if(c<=g)return String.fromCharCode.apply(String,v);for(var u="",y=0;y<c;)u+=String.fromCharCode.apply(String,v.slice(y,y+=g));return u}function S(v,c,u){var y="";u=Math.min(v.length,u);for(var x=c;x<u;++x)y+=String.fromCharCode(v[x]&127);return y}function m(v,c,u){var y="";u=Math.min(v.length,u);for(var x=c;x<u;++x)y+=String.fromCharCode(v[x]);return y}function a(v,c,u){var y=v.length;(!c||c<0)&&(c=0),(!u||u<0||u>y)&&(u=y);for(var x="",k=c;k<u;++k)x+=de[v[k]];return x}function _(v,c,u){for(var y=v.slice(c,u),x="",k=0;k<y.length-1;k+=2)x+=String.fromCharCode(y[k]+y[k+1]*256);return x}h.prototype.slice=function(c,u){var y=this.length;c=~~c,u=u===void 0?y:~~u,c<0?(c+=y,c<0&&(c=0)):c>y&&(c=y),u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),u<c&&(u=c);var x=this.subarray(c,u);return Object.setPrototypeOf(x,h.prototype),x};function P(v,c,u){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+c>u)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(c,u,y){c=c>>>0,u=u>>>0,y||P(c,u,this.length);for(var x=this[c],k=1,U=0;++U<u&&(k*=256);)x+=this[c+U]*k;return x},h.prototype.readUintBE=h.prototype.readUIntBE=function(c,u,y){c=c>>>0,u=u>>>0,y||P(c,u,this.length);for(var x=this[c+--u],k=1;u>0&&(k*=256);)x+=this[c+--u]*k;return x},h.prototype.readUint8=h.prototype.readUInt8=function(c,u){return c=c>>>0,u||P(c,1,this.length),this[c]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||P(c,2,this.length),this[c]|this[c+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||P(c,2,this.length),this[c]<<8|this[c+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||P(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||P(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},h.prototype.readIntLE=function(c,u,y){c=c>>>0,u=u>>>0,y||P(c,u,this.length);for(var x=this[c],k=1,U=0;++U<u&&(k*=256);)x+=this[c+U]*k;return k*=128,x>=k&&(x-=Math.pow(2,8*u)),x},h.prototype.readIntBE=function(c,u,y){c=c>>>0,u=u>>>0,y||P(c,u,this.length);for(var x=u,k=1,U=this[c+--x];x>0&&(k*=256);)U+=this[c+--x]*k;return k*=128,U>=k&&(U-=Math.pow(2,8*u)),U},h.prototype.readInt8=function(c,u){return c=c>>>0,u||P(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},h.prototype.readInt16LE=function(c,u){c=c>>>0,u||P(c,2,this.length);var y=this[c]|this[c+1]<<8;return y&32768?y|4294901760:y},h.prototype.readInt16BE=function(c,u){c=c>>>0,u||P(c,2,this.length);var y=this[c+1]|this[c]<<8;return y&32768?y|4294901760:y},h.prototype.readInt32LE=function(c,u){return c=c>>>0,u||P(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},h.prototype.readInt32BE=function(c,u){return c=c>>>0,u||P(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},h.prototype.readFloatLE=function(c,u){return c=c>>>0,u||P(c,4,this.length),r.read(this,c,!0,23,4)},h.prototype.readFloatBE=function(c,u){return c=c>>>0,u||P(c,4,this.length),r.read(this,c,!1,23,4)},h.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||P(c,8,this.length),r.read(this,c,!0,52,8)},h.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||P(c,8,this.length),r.read(this,c,!1,52,8)};function D(v,c,u,y,x,k){if(!h.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>x||c<k)throw new RangeError('"value" argument is out of bounds');if(u+y>v.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(c,u,y,x){if(c=+c,u=u>>>0,y=y>>>0,!x){var k=Math.pow(2,8*y)-1;D(this,c,u,y,k,0)}var U=1,J=0;for(this[u]=c&255;++J<y&&(U*=256);)this[u+J]=c/U&255;return u+y},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(c,u,y,x){if(c=+c,u=u>>>0,y=y>>>0,!x){var k=Math.pow(2,8*y)-1;D(this,c,u,y,k,0)}var U=y-1,J=1;for(this[u+U]=c&255;--U>=0&&(J*=256);)this[u+U]=c/J&255;return u+y},h.prototype.writeUint8=h.prototype.writeUInt8=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,1,255,0),this[u]=c&255,u+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},h.prototype.writeIntLE=function(c,u,y,x){if(c=+c,u=u>>>0,!x){var k=Math.pow(2,8*y-1);D(this,c,u,y,k-1,-k)}var U=0,J=1,K=0;for(this[u]=c&255;++U<y&&(J*=256);)c<0&&K===0&&this[u+U-1]!==0&&(K=1),this[u+U]=(c/J>>0)-K&255;return u+y},h.prototype.writeIntBE=function(c,u,y,x){if(c=+c,u=u>>>0,!x){var k=Math.pow(2,8*y-1);D(this,c,u,y,k-1,-k)}var U=y-1,J=1,K=0;for(this[u+U]=c&255;--U>=0&&(J*=256);)c<0&&K===0&&this[u+U+1]!==0&&(K=1),this[u+U]=(c/J>>0)-K&255;return u+y},h.prototype.writeInt8=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},h.prototype.writeInt16LE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},h.prototype.writeInt16BE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},h.prototype.writeInt32LE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},h.prototype.writeInt32BE=function(c,u,y){return c=+c,u=u>>>0,y||D(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function z(v,c,u,y,x,k){if(u+y>v.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function Q(v,c,u,y,x){return c=+c,u=u>>>0,x||z(v,c,u,4),r.write(v,c,u,y,23,4),u+4}h.prototype.writeFloatLE=function(c,u,y){return Q(this,c,u,!0,y)},h.prototype.writeFloatBE=function(c,u,y){return Q(this,c,u,!1,y)};function ee(v,c,u,y,x){return c=+c,u=u>>>0,x||z(v,c,u,8),r.write(v,c,u,y,52,8),u+8}h.prototype.writeDoubleLE=function(c,u,y){return ee(this,c,u,!0,y)},h.prototype.writeDoubleBE=function(c,u,y){return ee(this,c,u,!1,y)},h.prototype.copy=function(c,u,y,x){if(!h.isBuffer(c))throw new TypeError("argument should be a Buffer");if(y||(y=0),!x&&x!==0&&(x=this.length),u>=c.length&&(u=c.length),u||(u=0),x>0&&x<y&&(x=y),x===y||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),c.length-u<x-y&&(x=c.length-u+y);var k=x-y;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,y,x):Uint8Array.prototype.set.call(c,this.subarray(y,x),u),k},h.prototype.fill=function(c,u,y,x){if(typeof c=="string"){if(typeof u=="string"?(x=u,u=0,y=this.length):typeof y=="string"&&(x=y,y=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!h.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(c.length===1){var k=c.charCodeAt(0);(x==="utf8"&&k<128||x==="latin1")&&(c=k)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<y)throw new RangeError("Out of range index");if(y<=u)return this;u=u>>>0,y=y===void 0?this.length:y>>>0,c||(c=0);var U;if(typeof c=="number")for(U=u;U<y;++U)this[U]=c;else{var J=h.isBuffer(c)?c:h.from(c,x),K=J.length;if(K===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(U=0;U<y-u;++U)this[U+u]=J[U%K]}return this};var re=/[^+/0-9A-Za-z-_]/g;function $e(v){if(v=v.split("=")[0],v=v.trim().replace(re,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function te(v,c){c=c||1/0;for(var u,y=v.length,x=null,k=[],U=0;U<y;++U){if(u=v.charCodeAt(U),u>55295&&u<57344){if(!x){if(u>56319){(c-=3)>-1&&k.push(239,191,189);continue}else if(U+1===y){(c-=3)>-1&&k.push(239,191,189);continue}x=u;continue}if(u<56320){(c-=3)>-1&&k.push(239,191,189),x=u;continue}u=(x-55296<<10|u-56320)+65536}else x&&(c-=3)>-1&&k.push(239,191,189);if(x=null,u<128){if((c-=1)<0)break;k.push(u)}else if(u<2048){if((c-=2)<0)break;k.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;k.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;k.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return k}function se(v){for(var c=[],u=0;u<v.length;++u)c.push(v.charCodeAt(u)&255);return c}function Lt(v,c){for(var u,y,x,k=[],U=0;U<v.length&&!((c-=2)<0);++U)u=v.charCodeAt(U),y=u>>8,x=u%256,k.push(x),k.push(y);return k}function fe(v){return e.toByteArray($e(v))}function ce(v,c,u,y){for(var x=0;x<y&&!(x+u>=c.length||x>=v.length);++x)c[x+u]=v[x];return x}function Ue(v,c){return v instanceof c||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===c.name}function ue(v){return v!==v}var de=function(){for(var v="0123456789abcdef",c=new Array(256),u=0;u<16;++u)for(var y=u*16,x=0;x<16;++x)c[y+x]=v[u]+v[x];return c}()})(jo);var oi=Xe,Vo=Wo,gf=jo.Buffer;function gn(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}gn.prototype.initialize=function(e){this.degree=e,this.genPoly=Vo.generateECPolynomial(this.degree)};gn.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var r=oi.alloc(this.degree),n=gf.concat([e,r],e.length+this.degree),s=Vo.mod(n,this.genPoly),i=this.degree-s.length;if(i>0){var d=oi.alloc(this.degree);return s.copy(d,i),d}return s};var mf=gn,Ko={},et={},mn={};mn.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var We={},Yo="[0-9]+",vf="[A-Z $%*+\\-./:]+",Rt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Rt=Rt.replace(/u/g,"\\u");var _f="(?:(?![A-Z0-9 $%*+\\-./:]|"+Rt+`)(?:.|[\r
]))+`;We.KANJI=new RegExp(Rt,"g");We.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");We.BYTE=new RegExp(_f,"g");We.NUMERIC=new RegExp(Yo,"g");We.ALPHANUMERIC=new RegExp(vf,"g");var yf=new RegExp("^"+Rt+"$"),wf=new RegExp("^"+Yo+"$"),bf=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");We.testKanji=function(e){return yf.test(e)};We.testNumeric=function(e){return wf.test(e)};We.testAlphanumeric=function(e){return bf.test(e)};(function(t){var e=mn,r=We;t.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,d){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(d))throw new Error("Invalid version: "+d);return d>=1&&d<10?i.ccBits[0]:d<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return r.testNumeric(i)?t.NUMERIC:r.testAlphanumeric(i)?t.ALPHANUMERIC:r.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");var i=s.toLowerCase();switch(i){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,d){if(t.isValid(i))return i;try{return n(i)}catch{return d}}})(et);(function(t){var e=Fe,r=er,n=Xt,s=et,i=mn,d=ln,h=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,b=e.getBCHDigit(h);function R(N,O,q){for(var C=1;C<=40;C++)if(O<=t.getCapacity(C,q,N))return C}function E(N,O){return s.getCharCountIndicator(N,O)+4}function B(N,O){var q=0;return N.forEach(function(C){var A=E(C.mode,O);q+=A+C.getBitsLength()}),q}function F(N,O){for(var q=1;q<=40;q++){var C=B(N,q);if(C<=t.getCapacity(q,O,s.MIXED))return q}}t.from=function(O,q){return i.isValid(O)?parseInt(O,10):q},t.getCapacity=function(O,q,C){if(!i.isValid(O))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=s.BYTE);var A=e.getSymbolTotalCodewords(O),I=r.getTotalCodewordsCount(O,q),T=(A-I)*8;if(C===s.MIXED)return T;var L=T-E(C,O);switch(C){case s.NUMERIC:return Math.floor(L/10*3);case s.ALPHANUMERIC:return Math.floor(L/11*2);case s.KANJI:return Math.floor(L/13);case s.BYTE:default:return Math.floor(L/8)}},t.getBestVersionForData=function(O,q){var C,A=n.from(q,n.M);if(d(O)){if(O.length>1)return F(O,A);if(O.length===0)return 1;C=O[0]}else C=O;return R(C.mode,C.getLength(),A)},t.getEncodedBits=function(O){if(!i.isValid(O)||O<7)throw new Error("Invalid QR Code version");for(var q=O<<12;e.getBCHDigit(q)-b>=0;)q^=h<<e.getBCHDigit(q)-b;return O<<12|q}})(Ko);var Qo={},zr=Fe,Go=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,Mf=1<<14|1<<12|1<<10|1<<4|1<<1,si=zr.getBCHDigit(Go);Qo.getEncodedBits=function(e,r){for(var n=e.bit<<3|r,s=n<<10;zr.getBCHDigit(s)-si>=0;)s^=Go<<zr.getBCHDigit(s)-si;return(n<<10|s)^Mf};var Zo={},Ef=et;function ht(t){this.mode=Ef.NUMERIC,this.data=t.toString()}ht.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};ht.prototype.getLength=function(){return this.data.length};ht.prototype.getBitsLength=function(){return ht.getBitsLength(this.data.length)};ht.prototype.write=function(e){var r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),e.put(s,10);var i=this.data.length-r;i>0&&(n=this.data.substr(r),s=parseInt(n,10),e.put(s,i*3+1))};var xf=ht,Sf=et,Tr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function dt(t){this.mode=Sf.ALPHANUMERIC,this.data=t}dt.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};dt.prototype.getLength=function(){return this.data.length};dt.prototype.getBitsLength=function(){return dt.getBitsLength(this.data.length)};dt.prototype.write=function(e){var r;for(r=0;r+2<=this.data.length;r+=2){var n=Tr.indexOf(this.data[r])*45;n+=Tr.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Tr.indexOf(this.data[r]),6)};var Cf=dt,Rf=Xe,Af=et;function pt(t){this.mode=Af.BYTE,this.data=Rf.from(t)}pt.getBitsLength=function(e){return e*8};pt.prototype.getLength=function(){return this.data.length};pt.prototype.getBitsLength=function(){return pt.getBitsLength(this.data.length)};pt.prototype.write=function(t){for(var e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var Tf=pt,If=et,kf=Fe;function gt(t){this.mode=If.KANJI,this.data=t}gt.getBitsLength=function(e){return e*13};gt.prototype.getLength=function(){return this.data.length};gt.prototype.getBitsLength=function(){return gt.getBitsLength(this.data.length)};gt.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var r=kf.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var Bf=gt;(function(t){var e=et,r=xf,n=Cf,s=Tf,i=Bf,d=We,h=Fe,b=Ws;function R(A){return unescape(encodeURIComponent(A)).length}function E(A,I,T){for(var L=[],H;(H=A.exec(T))!==null;)L.push({data:H[0],index:H.index,mode:I,length:H[0].length});return L}function B(A){var I=E(d.NUMERIC,e.NUMERIC,A),T=E(d.ALPHANUMERIC,e.ALPHANUMERIC,A),L,H;h.isKanjiModeEnabled()?(L=E(d.BYTE,e.BYTE,A),H=E(d.KANJI,e.KANJI,A)):(L=E(d.BYTE_KANJI,e.BYTE,A),H=[]);var W=I.concat(T,L,H);return W.sort(function(V,j){return V.index-j.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function F(A,I){switch(I){case e.NUMERIC:return r.getBitsLength(A);case e.ALPHANUMERIC:return n.getBitsLength(A);case e.KANJI:return i.getBitsLength(A);case e.BYTE:return s.getBitsLength(A)}}function N(A){return A.reduce(function(I,T){var L=I.length-1>=0?I[I.length-1]:null;return L&&L.mode===T.mode?(I[I.length-1].data+=T.data,I):(I.push(T),I)},[])}function O(A){for(var I=[],T=0;T<A.length;T++){var L=A[T];switch(L.mode){case e.NUMERIC:I.push([L,{data:L.data,mode:e.ALPHANUMERIC,length:L.length},{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.ALPHANUMERIC:I.push([L,{data:L.data,mode:e.BYTE,length:L.length}]);break;case e.KANJI:I.push([L,{data:L.data,mode:e.BYTE,length:R(L.data)}]);break;case e.BYTE:I.push([{data:L.data,mode:e.BYTE,length:R(L.data)}])}}return I}function q(A,I){for(var T={},L={start:{}},H=["start"],W=0;W<A.length;W++){for(var V=A[W],j=[],ie=0;ie<V.length;ie++){var M=V[ie],o=""+W+ie;j.push(o),T[o]={node:M,lastCount:0},L[o]={};for(var f=0;f<H.length;f++){var p=H[f];T[p]&&T[p].node.mode===M.mode?(L[p][o]=F(T[p].lastCount+M.length,M.mode)-F(T[p].lastCount,M.mode),T[p].lastCount+=M.length):(T[p]&&(T[p].lastCount=M.length),L[p][o]=F(M.length,M.mode)+4+e.getCharCountIndicator(M.mode,I))}}H=j}for(f=0;f<H.length;f++)L[H[f]].end=0;return{map:L,table:T}}function C(A,I){var T,L=e.getBestModeForData(A);if(T=e.from(I,L),T!==e.BYTE&&T.bit<L.bit)throw new Error('"'+A+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(L));switch(T===e.KANJI&&!h.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new r(A);case e.ALPHANUMERIC:return new n(A);case e.KANJI:return new i(A);case e.BYTE:return new s(A)}}t.fromArray=function(I){return I.reduce(function(T,L){return typeof L=="string"?T.push(C(L,null)):L.data&&T.push(C(L.data,L.mode)),T},[])},t.fromString=function(I,T){for(var L=B(I,h.isKanjiModeEnabled()),H=O(L),W=q(H,T),V=b.find_path(W.map,"start","end"),j=[],ie=1;ie<V.length-1;ie++)j.push(W.table[V[ie]].node);return t.fromArray(N(j))},t.rawSplit=function(I){return t.fromArray(B(I,h.isKanjiModeEnabled()))}})(Zo);var ai=Xe,nr=Fe,Ir=Xt,Lf=nf,Of=of,Nf=qo,Uf=$o,jr=Ho,Jr=er,Ff=mf,Wt=Ko,Pf=Qo,Df=et,kr=Zo,qf=ln;function $f(t,e){for(var r=t.size,n=Uf.getPositions(e),s=0;s<n.length;s++)for(var i=n[s][0],d=n[s][1],h=-1;h<=7;h++)if(!(i+h<=-1||r<=i+h))for(var b=-1;b<=7;b++)d+b<=-1||r<=d+b||(h>=0&&h<=6&&(b===0||b===6)||b>=0&&b<=6&&(h===0||h===6)||h>=2&&h<=4&&b>=2&&b<=4?t.set(i+h,d+b,!0,!0):t.set(i+h,d+b,!1,!0))}function Hf(t){for(var e=t.size,r=8;r<e-8;r++){var n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function Wf(t,e){for(var r=Nf.getPositions(e),n=0;n<r.length;n++)for(var s=r[n][0],i=r[n][1],d=-2;d<=2;d++)for(var h=-2;h<=2;h++)d===-2||d===2||h===-2||h===2||d===0&&h===0?t.set(s+d,i+h,!0,!0):t.set(s+d,i+h,!1,!0)}function zf(t,e){for(var r=t.size,n=Wt.getEncodedBits(e),s,i,d,h=0;h<18;h++)s=Math.floor(h/3),i=h%3+r-8-3,d=(n>>h&1)===1,t.set(s,i,d,!0),t.set(i,s,d,!0)}function Br(t,e,r){var n=t.size,s=Pf.getEncodedBits(e,r),i,d;for(i=0;i<15;i++)d=(s>>i&1)===1,i<6?t.set(i,8,d,!0):i<8?t.set(i+1,8,d,!0):t.set(n-15+i,8,d,!0),i<8?t.set(8,n-i-1,d,!0):i<9?t.set(8,15-i-1+1,d,!0):t.set(8,15-i-1,d,!0);t.set(n-8,8,1,!0)}function jf(t,e){for(var r=t.size,n=-1,s=r-1,i=7,d=0,h=r-1;h>0;h-=2)for(h===6&&h--;;){for(var b=0;b<2;b++)if(!t.isReserved(s,h-b)){var R=!1;d<e.length&&(R=(e[d]>>>i&1)===1),t.set(s,h-b,R),i--,i===-1&&(d++,i=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function Jf(t,e,r){var n=new Lf;r.forEach(function(R){n.put(R.mode.bit,4),n.put(R.getLength(),Df.getCharCountIndicator(R.mode,t)),R.write(n)});var s=nr.getSymbolTotalCodewords(t),i=Jr.getTotalCodewordsCount(t,e),d=(s-i)*8;for(n.getLengthInBits()+4<=d&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var h=(d-n.getLengthInBits())/8,b=0;b<h;b++)n.put(b%2?17:236,8);return Vf(n,t,e)}function Vf(t,e,r){for(var n=nr.getSymbolTotalCodewords(e),s=Jr.getTotalCodewordsCount(e,r),i=n-s,d=Jr.getBlocksCount(e,r),h=n%d,b=d-h,R=Math.floor(n/d),E=Math.floor(i/d),B=E+1,F=R-E,N=new Ff(F),O=0,q=new Array(d),C=new Array(d),A=0,I=ai.from(t.buffer),T=0;T<d;T++){var L=T<b?E:B;q[T]=I.slice(O,O+L),C[T]=N.encode(q[T]),O+=L,A=Math.max(A,L)}var H=ai.alloc(n),W=0,V,j;for(V=0;V<A;V++)for(j=0;j<d;j++)V<q[j].length&&(H[W++]=q[j][V]);for(V=0;V<F;V++)for(j=0;j<d;j++)H[W++]=C[j][V];return H}function Kf(t,e,r,n){var s;if(qf(t))s=kr.fromArray(t);else if(typeof t=="string"){var i=e;if(!i){var d=kr.rawSplit(t);i=Wt.getBestVersionForData(d,r)}s=kr.fromString(t,i||40)}else throw new Error("Invalid data");var h=Wt.getBestVersionForData(s,r);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=h;else if(e<h)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+h+`.
`);var b=Jf(e,r,s),R=nr.getSymbolSize(e),E=new Of(R);return $f(E,e),Hf(E),Wf(E,e),Br(E,r,0),e>=7&&zf(E,e),jf(E,b),isNaN(n)&&(n=jr.getBestMask(E,Br.bind(null,E,r))),jr.applyMask(n,E),Br(E,r,n),{modules:E,version:e,errorCorrectionLevel:r,maskPattern:n,segments:s}}No.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");var n=Ir.M,s,i;return typeof r<"u"&&(n=Ir.from(r.errorCorrectionLevel,Ir.M),s=Wt.from(r.version),i=jr.from(r.maskPattern),r.toSJISFunc&&nr.setToSJISFunction(r.toSJISFunc)),Kf(e,s,n,i)};var Xo={},vn={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");var n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");var s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});var s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,d=n.scale||4;return{width:i,scale:i?4:d,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},t.getImageWidth=function(n,s){var i=t.getScale(n,s);return Math.floor((n+s.margin*2)*i)},t.qrToImageData=function(n,s,i){for(var d=s.modules.size,h=s.modules.data,b=t.getScale(d,i),R=Math.floor((d+i.margin*2)*b),E=i.margin*b,B=[i.color.light,i.color.dark],F=0;F<R;F++)for(var N=0;N<R;N++){var O=(F*R+N)*4,q=i.color.light;if(F>=E&&N>=E&&F<R-E&&N<R-E){var C=Math.floor((F-E)/b),A=Math.floor((N-E)/b);q=B[h[C*d+A]?1:0]}n[O++]=q.r,n[O++]=q.g,n[O++]=q.b,n[O]=q.a}}})(vn);(function(t){var e=vn;function r(s,i,d){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=d,i.width=d,i.style.height=d+"px",i.style.width=d+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,d,h){var b=h,R=d;typeof b>"u"&&(!d||!d.getContext)&&(b=d,d=void 0),d||(R=n()),b=e.getOptions(b);var E=e.getImageWidth(i.modules.size,b),B=R.getContext("2d"),F=B.createImageData(E,E);return e.qrToImageData(F.data,i,b),r(B,R,E),B.putImageData(F,0,0),R},t.renderToDataURL=function(i,d,h){var b=h;typeof b>"u"&&(!d||!d.getContext)&&(b=d,d=void 0),b||(b={});var R=t.render(i,d,b),E=b.type||"image/png",B=b.rendererOpts||{};return R.toDataURL(E,B.quality)}})(Xo);var es={},Yf=vn;function ci(t,e){var r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Lr(t,e,r){var n=t+e;return typeof r<"u"&&(n+=" "+r),n}function Qf(t,e,r){for(var n="",s=0,i=!1,d=0,h=0;h<t.length;h++){var b=Math.floor(h%e),R=Math.floor(h/e);!b&&!i&&(i=!0),t[h]?(d++,h>0&&b>0&&t[h-1]||(n+=i?Lr("M",b+r,.5+R+r):Lr("m",s,0),s=0,i=!1),b+1<e&&t[h+1]||(n+=Lr("h",d),d=0)):s++}return n}es.render=function(e,r,n){var s=Yf.getOptions(r),i=e.modules.size,d=e.modules.data,h=i+s.margin*2,b=s.color.light.a?"<path "+ci(s.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",R="<path "+ci(s.color.dark,"stroke")+' d="'+Qf(d,i,s.margin)+'"/>',E='viewBox="0 0 '+h+" "+h+'"',B=s.width?'width="'+s.width+'" height="'+s.width+'" ':"",F='<svg xmlns="http://www.w3.org/2000/svg" '+B+E+' shape-rendering="crispEdges">'+b+R+`</svg>
`;return typeof n=="function"&&n(null,F),F};var Gf=ju,Vr=No,ts=Xo,Zf=es;function _n(t,e,r,n,s){var i=[].slice.call(arguments,1),d=i.length,h=typeof i[d-1]=="function";if(!h&&!Gf())throw new Error("Callback required as last argument");if(h){if(d<2)throw new Error("Too few arguments provided");d===2?(s=r,r=e,e=n=void 0):d===3&&(e.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=e,e=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(r=e,e=n=void 0):d===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(R,E){try{var B=Vr.create(r,n);R(t(B,e,n))}catch(F){E(F)}})}try{var b=Vr.create(r,n);s(null,t(b,e,n))}catch(R){s(R)}}It.create=Vr.create;It.toCanvas=_n.bind(null,ts.render);It.toDataURL=_n.bind(null,ts.renderToDataURL);It.toString=_n.bind(null,function(t,e,r){return Zf.render(t,r)});var Xf=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||r.forEach(function(s){t.addRange(s)}),e&&e.focus()}},el=Xf,ui={"text/plain":"Text","text/html":"Url",default:"Text"},tl="Copy to clipboard: #{key}, Enter";function rl(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function nl(t,e){var r,n,s,i,d,h,b=!1;e||(e={}),r=e.debug||!1;try{s=el(),i=document.createRange(),d=document.getSelection(),h=document.createElement("span"),h.textContent=t,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(E){if(E.stopPropagation(),e.format)if(E.preventDefault(),typeof E.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var B=ui[e.format]||ui.default;window.clipboardData.setData(B,t)}else E.clipboardData.clearData(),E.clipboardData.setData(e.format,t);e.onCopy&&(E.preventDefault(),e.onCopy(E.clipboardData))}),document.body.appendChild(h),i.selectNodeContents(h),d.addRange(i);var R=document.execCommand("copy");if(!R)throw new Error("copy command was unsuccessful");b=!0}catch(E){r&&console.error("unable to copy using execCommand: ",E),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),b=!0}catch(B){r&&console.error("unable to copy using clipboardData: ",B),r&&console.error("falling back to prompt"),n=rl("message"in e?e.message:tl),window.prompt(n,t)}}finally{d&&(typeof d.removeRange=="function"?d.removeRange(i):d.removeAllRanges()),h&&document.body.removeChild(h),s()}return b}var il=nl,Y,xt,yn,rs,fi,wn,ns,je={},ir=[],ol=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function ze(t,e){for(var r in e)t[r]=e[r];return t}function is(t){var e=t.parentNode;e&&e.removeChild(t)}function Je(t,e,r){var n,s=arguments,i={};for(n in e)n!=="key"&&n!=="ref"&&(i[n]=e[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(s[n]);if(r!=null&&(i.children=r),typeof t=="function"&&t.defaultProps!=null)for(n in t.defaultProps)i[n]===void 0&&(i[n]=t.defaultProps[n]);return zt(t,i,e&&e.key,e&&e.ref,null)}function zt(t,e,r,n,s){var i={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s};return s==null&&(i.__v=i),Y.vnode&&Y.vnode(i),i}function os(){return{}}function Bt(t){return t.children}function qe(t,e){this.props=t,this.context=e}function At(t,e){if(e==null)return t.__?At(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?At(t):null}function ss(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return ss(t)}}function Pt(t){(!t.__d&&(t.__d=!0)&&xt.push(t)&&!yn++||fi!==Y.debounceRendering)&&((fi=Y.debounceRendering)||rs)(sl)}function sl(){for(var t;yn=xt.length;)t=xt.sort(function(e,r){return e.__v.__b-r.__v.__b}),xt=[],t.some(function(e){var r,n,s,i,d,h,b;e.__d&&(h=(d=(r=e).__v).__e,(b=r.__P)&&(n=[],(s=ze({},d)).__v=s,i=bn(b,d,s,r.__n,b.ownerSVGElement!==void 0,null,n,h??At(d)),cs(n,d),i!=h&&ss(d)))})}function as(t,e,r,n,s,i,d,h,b){var R,E,B,F,N,O,q,C=r&&r.__k||ir,A=C.length;if(h==je&&(h=i!=null?i[0]:A?At(r,0):null),R=0,e.__k=Qe(e.__k,function(I){if(I!=null){if(I.__=e,I.__b=e.__b+1,(B=C[R])===null||B&&I.key==B.key&&I.type===B.type)C[R]=void 0;else for(E=0;E<A;E++){if((B=C[E])&&I.key==B.key&&I.type===B.type){C[E]=void 0;break}B=null}if(F=bn(t,I,B=B||je,n,s,i,d,h,b),(E=I.ref)&&B.ref!=E&&(q||(q=[]),B.ref&&q.push(B.ref,null,I),q.push(E,I.__c||F,I)),F!=null){var T;if(O==null&&(O=F),I.__d!==void 0)T=I.__d,I.__d=void 0;else if(i==B||F!=h||F.parentNode==null){e:if(h==null||h.parentNode!==t)t.appendChild(F),T=null;else{for(N=h,E=0;(N=N.nextSibling)&&E<A;E+=2)if(N==F)break e;t.insertBefore(F,h),T=h}e.type=="option"&&(t.value="")}h=T!==void 0?T:F.nextSibling,typeof e.type=="function"&&(e.__d=h)}else h&&B.__e==h&&h.parentNode!=t&&(h=At(B))}return R++,I}),e.__e=O,i!=null&&typeof e.type!="function")for(R=i.length;R--;)i[R]!=null&&is(i[R]);for(R=A;R--;)C[R]!=null&&St(C[R],C[R]);if(q)for(R=0;R<q.length;R++)us(q[R],q[++R],q[++R])}function Qe(t,e,r){if(r==null&&(r=[]),t==null||typeof t=="boolean")e&&r.push(e(null));else if(Array.isArray(t))for(var n=0;n<t.length;n++)Qe(t[n],e,r);else r.push(e?e(typeof t=="string"||typeof t=="number"?zt(null,t,null,null,t):t.__e!=null||t.__c!=null?zt(t.type,t.props,t.key,null,t.__v):t):t);return r}function al(t,e,r,n,s){var i;for(i in r)i==="children"||i==="key"||i in e||jt(t,i,null,r[i],n);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||r[i]===e[i]||jt(t,i,e[i],r[i],n)}function li(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=typeof r=="number"&&ol.test(e)===!1?r+"px":r??""}function jt(t,e,r,n,s){var i,d,h,b,R;if(s?e==="className"&&(e="class"):e==="class"&&(e="className"),e==="style")if(i=t.style,typeof r=="string")i.cssText=r;else{if(typeof n=="string"&&(i.cssText="",n=null),n)for(b in n)r&&b in r||li(i,b,"");if(r)for(R in r)n&&r[R]===n[R]||li(i,R,r[R])}else e[0]==="o"&&e[1]==="n"?(d=e!==(e=e.replace(/Capture$/,"")),h=e.toLowerCase(),e=(h in t?h:e).slice(2),r?(n||t.addEventListener(e,hi,d),(t.l||(t.l={}))[e]=r):t.removeEventListener(e,hi,d)):e!=="list"&&e!=="tagName"&&e!=="form"&&e!=="type"&&e!=="size"&&!s&&e in t?t[e]=r??"":typeof r!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?r==null||r===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),r):r==null||r===!1&&!/^ar/.test(e)?t.removeAttribute(e):t.setAttribute(e,r))}function hi(t){this.l[t.type](Y.event?Y.event(t):t)}function bn(t,e,r,n,s,i,d,h,b){var R,E,B,F,N,O,q,C,A,I,T=e.type;if(e.constructor!==void 0)return null;(R=Y.__b)&&R(e);try{e:if(typeof T=="function"){if(C=e.props,A=(R=T.contextType)&&n[R.__c],I=R?A?A.props.value:R.__:n,r.__c?q=(E=e.__c=r.__c).__=E.__E:("prototype"in T&&T.prototype.render?e.__c=E=new T(C,I):(e.__c=E=new qe(C,I),E.constructor=T,E.render=ul),A&&A.sub(E),E.props=C,E.state||(E.state={}),E.context=I,E.__n=n,B=E.__d=!0,E.__h=[]),E.__s==null&&(E.__s=E.state),T.getDerivedStateFromProps!=null&&(E.__s==E.state&&(E.__s=ze({},E.__s)),ze(E.__s,T.getDerivedStateFromProps(C,E.__s))),F=E.props,N=E.state,B)T.getDerivedStateFromProps==null&&E.componentWillMount!=null&&E.componentWillMount(),E.componentDidMount!=null&&E.__h.push(E.componentDidMount);else{if(T.getDerivedStateFromProps==null&&C!==F&&E.componentWillReceiveProps!=null&&E.componentWillReceiveProps(C,I),!E.__e&&E.shouldComponentUpdate!=null&&E.shouldComponentUpdate(C,E.__s,I)===!1||e.__v===r.__v&&!E.__){for(E.props=C,E.state=E.__s,e.__v!==r.__v&&(E.__d=!1),E.__v=e,e.__e=r.__e,e.__k=r.__k,E.__h.length&&d.push(E),R=0;R<e.__k.length;R++)e.__k[R]&&(e.__k[R].__=e);break e}E.componentWillUpdate!=null&&E.componentWillUpdate(C,E.__s,I),E.componentDidUpdate!=null&&E.__h.push(function(){E.componentDidUpdate(F,N,O)})}E.context=I,E.props=C,E.state=E.__s,(R=Y.__r)&&R(e),E.__d=!1,E.__v=e,E.__P=t,R=E.render(E.props,E.state,E.context),e.__k=R!=null&&R.type==Bt&&R.key==null?R.props.children:Array.isArray(R)?R:[R],E.getChildContext!=null&&(n=ze(ze({},n),E.getChildContext())),B||E.getSnapshotBeforeUpdate==null||(O=E.getSnapshotBeforeUpdate(F,N)),as(t,e,r,n,s,i,d,h,b),E.base=e.__e,E.__h.length&&d.push(E),q&&(E.__E=E.__=null),E.__e=!1}else i==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=cl(r.__e,e,r,n,s,i,d,b);(R=Y.diffed)&&R(e)}catch(L){e.__v=null,Y.__e(L,e,r)}return e.__e}function cs(t,e){Y.__c&&Y.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){Y.__e(n,r.__v)}})}function cl(t,e,r,n,s,i,d,h){var b,R,E,B,F,N=r.props,O=e.props;if(s=e.type==="svg"||s,i!=null){for(b=0;b<i.length;b++)if((R=i[b])!=null&&((e.type===null?R.nodeType===3:R.localName===e.type)||t==R)){t=R,i[b]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(O);t=s?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type,O.is&&{is:O.is}),i=null,h=!1}if(e.type===null)N!==O&&t.data!=O&&(t.data=O);else{if(i!=null&&(i=ir.slice.call(t.childNodes)),E=(N=r.props||je).dangerouslySetInnerHTML,B=O.dangerouslySetInnerHTML,!h){if(N===je)for(N={},F=0;F<t.attributes.length;F++)N[t.attributes[F].name]=t.attributes[F].value;(B||E)&&(B&&E&&B.__html==E.__html||(t.innerHTML=B&&B.__html||""))}al(t,O,N,s,h),B?e.__k=[]:(e.__k=e.props.children,as(t,e,r,n,e.type!=="foreignObject"&&s,i,d,je,h)),h||("value"in O&&(b=O.value)!==void 0&&b!==t.value&&jt(t,"value",b,N.value,!1),"checked"in O&&(b=O.checked)!==void 0&&b!==t.checked&&jt(t,"checked",b,N.checked,!1))}return t}function us(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){Y.__e(n,r)}}function St(t,e,r){var n,s,i;if(Y.unmount&&Y.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||us(n,null,e)),r||typeof t.type=="function"||(r=(s=t.__e)!=null),t.__e=t.__d=void 0,(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(d){Y.__e(d,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&St(n[i],e,r);s!=null&&is(s)}function ul(t,e,r){return this.constructor(t,r)}function Tt(t,e,r){var n,s,i;Y.__&&Y.__(t,e),s=(n=r===wn)?null:r&&r.__k||e.__k,t=Je(Bt,null,[t]),i=[],bn(e,(n?e:r||e).__k=t,s||je,je,e.ownerSVGElement!==void 0,r&&!n?[r]:s?null:ir.slice.call(e.childNodes),i,r||je,n),cs(i,t)}function fs(t,e){Tt(t,e,wn)}function fl(t,e){var r,n;for(n in e=ze(ze({},t.props),e),arguments.length>2&&(e.children=ir.slice.call(arguments,2)),r={},e)n!=="key"&&n!=="ref"&&(r[n]=e[n]);return zt(t.type,r,e.key||t.key,e.ref||t.ref,null)}function ls(t){var e={},r={__c:"__cC"+ns++,__:t,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i=this;return this.getChildContext||(s=[],this.getChildContext=function(){return e[r.__c]=i,e},this.shouldComponentUpdate=function(d){i.props.value!==d.value&&s.some(function(h){h.context=d.value,Pt(h)})},this.sub=function(d){s.push(d);var h=d.componentWillUnmount;d.componentWillUnmount=function(){s.splice(s.indexOf(d),1),h&&h.call(d)}}),n.children}};return r.Consumer.contextType=r,r.Provider.__=r,r}Y={__e:function(t,e){for(var r,n;e=e.__;)if((r=e.__c)&&!r.__)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(t))),r.componentDidCatch!=null&&(n=!0,r.componentDidCatch(t)),n)return Pt(r.__E=r)}catch(s){t=s}throw t}},qe.prototype.setState=function(t,e){var r;r=this.__s!==this.state?this.__s:this.__s=ze({},this.state),typeof t=="function"&&(t=t(r,this.props)),t&&ze(r,t),t!=null&&this.__v&&(e&&this.__h.push(e),Pt(this))},qe.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Pt(this))},qe.prototype.render=Bt,xt=[],yn=0,rs=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wn=je,ns=0;var it,Ne,di,mt=0,Kr=[],pi=Y.__r,gi=Y.diffed,mi=Y.__c,vi=Y.unmount;function wt(t,e){Y.__h&&Y.__h(Ne,t,mt||e),mt=0;var r=Ne.__H||(Ne.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function Mn(t){return mt=1,En(_s,t)}function En(t,e,r){var n=wt(it++,2);return n.__c||(n.__c=Ne,n.__=[r?r(e):_s(void 0,e),function(s){var i=t(n.__[0],s);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}function hs(t,e){var r=wt(it++,3);!Y.__s&&Sn(r.__H,e)&&(r.__=t,r.__H=e,Ne.__H.__h.push(r))}function xn(t,e){var r=wt(it++,4);!Y.__s&&Sn(r.__H,e)&&(r.__=t,r.__H=e,Ne.__h.push(r))}function ds(t){return mt=5,or(function(){return{current:t}},[])}function ps(t,e,r){mt=6,xn(function(){typeof t=="function"?t(e()):t&&(t.current=e())},r==null?r:r.concat(t))}function or(t,e){var r=wt(it++,7);return Sn(r.__H,e)?(r.__H=e,r.__h=t,r.__=t()):r.__}function gs(t,e){return mt=8,or(function(){return t},e)}function ms(t){var e=Ne.context[t.__c],r=wt(it++,9);return r.__c=t,e?(r.__==null&&(r.__=!0,e.sub(Ne)),e.props.value):t.__}function vs(t,e){Y.useDebugValue&&Y.useDebugValue(e?e(t):t)}function ll(t){var e=wt(it++,10),r=Mn();return e.__=t,Ne.componentDidCatch||(Ne.componentDidCatch=function(n){e.__&&e.__(n),r[1](n)}),[r[0],function(){r[1](void 0)}]}function hl(){Kr.some(function(t){if(t.__P)try{t.__H.__h.forEach(Yr),t.__H.__h.forEach(Qr),t.__H.__h=[]}catch(e){return t.__H.__h=[],Y.__e(e,t.__v),!0}}),Kr=[]}function Yr(t){t.t&&t.t()}function Qr(t){var e=t.__();typeof e=="function"&&(t.t=e)}function Sn(t,e){return!t||e.some(function(r,n){return r!==t[n]})}function _s(t,e){return typeof e=="function"?e(t):e}Y.__r=function(t){pi&&pi(t),it=0,(Ne=t.__c).__H&&(Ne.__H.__h.forEach(Yr),Ne.__H.__h.forEach(Qr),Ne.__H.__h=[])},Y.diffed=function(t){gi&&gi(t);var e=t.__c;if(e){var r=e.__H;r&&r.__h.length&&(Kr.push(e)!==1&&di===Y.requestAnimationFrame||((di=Y.requestAnimationFrame)||function(n){var s,i=function(){clearTimeout(d),cancelAnimationFrame(s),setTimeout(n)},d=setTimeout(i,100);typeof window<"u"&&(s=requestAnimationFrame(i))})(hl))}},Y.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Yr),r.__h=r.__h.filter(function(n){return!n.__||Qr(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],Y.__e(n,r.__v)}}),mi&&mi(t,e)},Y.unmount=function(t){vi&&vi(t);var e=t.__c;if(e){var r=e.__H;if(r)try{r.__.forEach(function(n){return n.t&&n.t()})}catch(n){Y.__e(n,e.__v)}}};function Cn(t,e){for(var r in e)t[r]=e[r];return t}function Gr(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var n in e)if(n!=="__source"&&t[n]!==e[n])return!0;return!1}var ys=function(t){var e,r;function n(s){var i;return(i=t.call(this,s)||this).isPureReactComponent=!0,i}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,n.prototype.shouldComponentUpdate=function(s,i){return Gr(this.props,s)||Gr(this.state,i)},n}(qe);function ws(t,e){function r(s){var i=this.props.ref,d=i==s.ref;return!d&&i&&(i.call?i(null):i.current=null),e?!e(this.props,s)||!d:Gr(this.props,s)}function n(s){return this.shouldComponentUpdate=r,Je(t,Cn({},s))}return n.prototype.isReactComponent=!0,n.displayName="Memo("+(t.displayName||t.name)+")",n.t=!0,n}var _i=Y.__b;function bs(t){function e(r){var n=Cn({},r);return delete n.ref,t(n,r.ref)}return e.prototype.isReactComponent=e.t=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}Y.__b=function(t){t.type&&t.type.t&&t.ref&&(t.props.ref=t.ref,t.ref=null),_i&&_i(t)};var yi=function(t,e){return t?Qe(t).reduce(function(r,n,s){return r.concat(e(n,s))},[]):null},Ms={map:yi,forEach:yi,count:function(t){return t?Qe(t).length:0},only:function(t){if((t=Qe(t)).length!==1)throw new Error("Children.only() expects only one child.");return t[0]},toArray:Qe},dl=Y.__e;function Es(t){return t&&((t=Cn({},t)).__c=null,t.__k=t.__k&&t.__k.map(Es)),t}function Jt(){this.__u=0,this.o=null,this.__b=null}function xs(t){var e=t.__.__c;return e&&e.u&&e.u(t)}function Ss(t){var e,r,n;function s(i){if(e||(e=t()).then(function(d){r=d.default||d},function(d){n=d}),n)throw n;if(!r)throw e;return Je(r,i)}return s.displayName="Lazy",s.t=!0,s}function st(){this.i=null,this.l=null}Y.__e=function(t,e,r){if(t.then){for(var n,s=e;s=s.__;)if((n=s.__c)&&n.__c)return n.__c(t,e.__c)}dl(t,e,r)},(Jt.prototype=new qe).__c=function(t,e){var r=this;r.o==null&&(r.o=[]),r.o.push(e);var n=xs(r.__v),s=!1,i=function(){s||(s=!0,n?n(d):d())};e.__c=e.componentWillUnmount,e.componentWillUnmount=function(){i(),e.__c&&e.__c()};var d=function(){var h;if(!--r.__u)for(r.__v.__k[0]=r.state.u,r.setState({u:r.__b=null});h=r.o.pop();)h.forceUpdate()};r.__u++||r.setState({u:r.__b=r.__v.__k[0]}),t.then(i,i)},Jt.prototype.render=function(t,e){return this.__b&&(this.__v.__k[0]=Es(this.__b),this.__b=null),[Je(qe,null,e.u?null:t.children),e.u&&t.fallback]};var wi=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};(st.prototype=new qe).u=function(t){var e=this,r=xs(e.__v),n=e.l.get(t);return n[0]++,function(s){var i=function(){e.props.revealOrder?(n.push(s),wi(e,t,n)):s()};r?r(i):i()}},st.prototype.render=function(t){this.i=null,this.l=new Map;var e=Qe(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},st.prototype.componentDidUpdate=st.prototype.componentDidMount=function(){var t=this;t.l.forEach(function(e,r){wi(t,r,e)})};var pl=function(){function t(){}var e=t.prototype;return e.getChildContext=function(){return this.props.context},e.render=function(r){return r.children},t}();function gl(t){var e=this,r=t.container,n=Je(pl,{context:e.context},t.vnode);return e.s&&e.s!==r&&(e.v.parentNode&&e.s.removeChild(e.v),St(e.h),e.p=!1),t.vnode?e.p?(r.__k=e.__k,Tt(n,r),e.__k=r.__k):(e.v=document.createTextNode(""),fs("",r),r.appendChild(e.v),e.p=!0,e.s=r,Tt(n,r,e.v),e.__k=e.v.__k):e.p&&(e.v.parentNode&&e.s.removeChild(e.v),St(e.h)),e.h=n,e.componentWillUnmount=function(){e.v.parentNode&&e.s.removeChild(e.v),St(e.h)},null}function Cs(t,e){return Je(gl,{vnode:t,container:e})}var bi=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;qe.prototype.isReactComponent={};var Rs=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103;function Zr(t,e,r){if(e.__k==null)for(;e.firstChild;)e.removeChild(e.firstChild);return Tt(t,e),typeof r=="function"&&r(),t?t.__c:null}function ml(t,e,r){return fs(t,e),typeof r=="function"&&r(),t?t.__c:null}var Mi=Y.event;function Or(t,e){t["UNSAFE_"+e]&&!t[e]&&Object.defineProperty(t,e,{configurable:!1,get:function(){return this["UNSAFE_"+e]},set:function(r){this["UNSAFE_"+e]=r}})}Y.event=function(t){Mi&&(t=Mi(t)),t.persist=function(){};var e=!1,r=!1,n=t.stopPropagation;t.stopPropagation=function(){n.call(t),e=!0};var s=t.preventDefault;return t.preventDefault=function(){s.call(t),r=!0},t.isPropagationStopped=function(){return e},t.isDefaultPrevented=function(){return r},t.nativeEvent=t};var Ei={configurable:!0,get:function(){return this.class}},xi=Y.vnode;Y.vnode=function(t){t.$$typeof=Rs;var e=t.type,r=t.props;if(e){if(r.class!=r.className&&(Ei.enumerable="className"in r,r.className!=null&&(r.class=r.className),Object.defineProperty(r,"className",Ei)),typeof e!="function"){var n,s,i;for(i in r.defaultValue&&r.value!==void 0&&(r.value||r.value===0||(r.value=r.defaultValue),delete r.defaultValue),Array.isArray(r.value)&&r.multiple&&e==="select"&&(Qe(r.children).forEach(function(d){r.value.indexOf(d.props.value)!=-1&&(d.props.selected=!0)}),delete r.value),r)if(n=bi.test(i))break;if(n)for(i in s=t.props={},r)s[bi.test(i)?i.replace(/[A-Z0-9]/,"-$&").toLowerCase():i]=r[i]}(function(d){var h=t.type,b=t.props;if(b&&typeof h=="string"){var R={};for(var E in b)/^on(Ani|Tra|Tou)/.test(E)&&(b[E.toLowerCase()]=b[E],delete b[E]),R[E.toLowerCase()]=E;if(R.ondoubleclick&&(b.ondblclick=b[R.ondoubleclick],delete b[R.ondoubleclick]),R.onbeforeinput&&(b.onbeforeinput=b[R.onbeforeinput],delete b[R.onbeforeinput]),R.onchange&&(h==="textarea"||h.toLowerCase()==="input"&&!/^fil|che|ra/i.test(b.type))){var B=R.oninput||"oninput";b[B]||(b[B]=b[R.onchange],delete b[R.onchange])}}})(),typeof e=="function"&&!e.m&&e.prototype&&(Or(e.prototype,"componentWillMount"),Or(e.prototype,"componentWillReceiveProps"),Or(e.prototype,"componentWillUpdate"),e.m=!0)}xi&&xi(t)};var vl="16.8.0";function As(t){return Je.bind(null,t)}function Rn(t){return!!t&&t.$$typeof===Rs}function Ts(t){return Rn(t)?fl.apply(null,arguments):t}function Is(t){return!!t.__k&&(Tt(null,t),!0)}function ks(t){return t&&(t.base||t.nodeType===1&&t)||null}var Bs=function(t,e){return t(e)};const _l={useState:Mn,useReducer:En,useEffect:hs,useLayoutEffect:xn,useRef:ds,useImperativeHandle:ps,useMemo:or,useCallback:gs,useContext:ms,useDebugValue:vs,version:"16.8.0",Children:Ms,render:Zr,hydrate:Zr,unmountComponentAtNode:Is,createPortal:Cs,createElement:Je,createContext:ls,createFactory:As,cloneElement:Ts,createRef:os,Fragment:Bt,isValidElement:Rn,findDOMNode:ks,Component:qe,PureComponent:ys,memo:ws,forwardRef:bs,unstable_batchedUpdates:Bs,Suspense:Jt,SuspenseList:st,lazy:Ss},yl=Object.freeze(Object.defineProperty({__proto__:null,Children:Ms,Component:qe,Fragment:Bt,PureComponent:ys,Suspense:Jt,SuspenseList:st,cloneElement:Ts,createContext:ls,createElement:Je,createFactory:As,createPortal:Cs,createRef:os,default:_l,findDOMNode:ks,forwardRef:bs,hydrate:ml,isValidElement:Rn,lazy:Ss,memo:ws,render:Zr,unmountComponentAtNode:Is,unstable_batchedUpdates:Bs,useCallback:gs,useContext:ms,useDebugValue:vs,useEffect:hs,useErrorBoundary:ll,useImperativeHandle:ps,useLayoutEffect:xn,useMemo:or,useReducer:En,useRef:ds,useState:Mn,version:vl},Symbol.toStringTag,{value:"Module"})),wl=Ri(yl);function Ls(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Oe=zu,Os=Ls(It),bl=Ls(il),$=wl;function Ml(t){Os.toString(t,{type:"terminal"}).then(console.log)}var El=`:root {
  --animation-duration: 300ms;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

.animated {
  animation-duration: var(--animation-duration);
  animation-fill-mode: both;
}

.fadeIn {
  animation-name: fadeIn;
}

.fadeOut {
  animation-name: fadeOut;
}

#walletconnect-wrapper {
  -webkit-user-select: none;
  align-items: center;
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  pointer-events: none;
  position: fixed;
  top: 0;
  user-select: none;
  width: 100%;
  z-index: 99999999999999;
}

.walletconnect-modal__headerLogo {
  height: 21px;
}

.walletconnect-modal__header p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
  align-items: flex-start;
  display: flex;
  flex: 1;
  margin-left: 5px;
}

.walletconnect-modal__close__wrapper {
  position: absolute;
  top: 0px;
  right: 0px;
  z-index: 10000;
  background: white;
  border-radius: 26px;
  padding: 6px;
  box-sizing: border-box;
  width: 26px;
  height: 26px;
  cursor: pointer;
}

.walletconnect-modal__close__icon {
  position: relative;
  top: 7px;
  right: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: rotate(45deg);
}

.walletconnect-modal__close__line1 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
}

.walletconnect-modal__close__line2 {
  position: absolute;
  width: 100%;
  border: 1px solid rgb(48, 52, 59);
  transform: rotate(90deg);
}

.walletconnect-qrcode__base {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background: rgba(37, 41, 46, 0.95);
  height: 100%;
  left: 0;
  pointer-events: auto;
  position: fixed;
  top: 0;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  width: 100%;
  will-change: opacity;
  padding: 40px;
  box-sizing: border-box;
}

.walletconnect-qrcode__text {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 10px 0 20px 0;
  text-align: center;
  width: 100%;
}

@media only screen and (max-width: 768px) {
  .walletconnect-qrcode__text {
    font-size: 4vw;
  }
}

@media only screen and (max-width: 320px) {
  .walletconnect-qrcode__text {
    font-size: 14px;
  }
}

.walletconnect-qrcode__image {
  width: calc(100% - 30px);
  box-sizing: border-box;
  cursor: none;
  margin: 0 auto;
}

.walletconnect-qrcode__notification {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  font-size: 16px;
  padding: 16px 20px;
  border-radius: 16px;
  text-align: center;
  transition: all 0.1s ease-in-out;
  background: white;
  color: black;
  margin-bottom: -60px;
  opacity: 0;
}

.walletconnect-qrcode__notification.notification__show {
  opacity: 1;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__header {
    height: 130px;
  }
  .walletconnect-modal__base {
    overflow: auto;
  }
}

@media only screen and (min-device-width: 415px) and (max-width: 768px) {
  #content {
    max-width: 768px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 375px) and (max-width: 415px) {
  #content {
    max-width: 414px;
    box-sizing: border-box;
  }
}

@media only screen and (min-width: 320px) and (max-width: 375px) {
  #content {
    max-width: 375px;
    box-sizing: border-box;
  }
}

@media only screen and (max-width: 320px) {
  #content {
    max-width: 320px;
    box-sizing: border-box;
  }
}

.walletconnect-modal__base {
  -webkit-font-smoothing: antialiased;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);
  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,
    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,
    "Open Sans", "Helvetica Neue", sans-serif;
  margin-top: 41px;
  padding: 24px 24px 22px;
  pointer-events: auto;
  position: relative;
  text-align: center;
  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  will-change: transform;
  overflow: visible;
  transform: translateY(-50%);
  top: 50%;
  max-width: 500px;
  margin: auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__base {
    padding: 24px 12px;
  }
}

.walletconnect-modal__base .hidden {
  transform: translateY(150%);
  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);
}

.walletconnect-modal__header {
  align-items: center;
  display: flex;
  height: 26px;
  left: 0;
  justify-content: space-between;
  position: absolute;
  top: -42px;
  width: 100%;
}

.walletconnect-modal__base .wc-logo {
  align-items: center;
  display: flex;
  height: 26px;
  margin-top: 15px;
  padding-bottom: 15px;
  pointer-events: auto;
}

.walletconnect-modal__base .wc-logo div {
  background-color: #3399ff;
  height: 21px;
  margin-right: 5px;
  mask-image: url("images/wc-logo.svg") center no-repeat;
  width: 32px;
}

.walletconnect-modal__base .wc-logo p {
  color: #ffffff;
  font-size: 20px;
  font-weight: 600;
  margin: 0;
}

.walletconnect-modal__base h2 {
  color: rgba(60, 66, 82, 0.6);
  font-size: 16px;
  font-weight: 600;
  letter-spacing: 0;
  line-height: 1.1875em;
  margin: 0 0 19px 0;
  text-align: center;
  width: 100%;
}

.walletconnect-modal__base__row {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  align-items: center;
  border-radius: 20px;
  cursor: pointer;
  display: flex;
  height: 56px;
  justify-content: space-between;
  padding: 0 15px;
  position: relative;
  margin: 0px 0px 8px;
  text-align: left;
  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  will-change: transform;
  text-decoration: none;
}

.walletconnect-modal__base__row:hover {
  background: rgba(60, 66, 82, 0.06);
}

.walletconnect-modal__base__row:active {
  background: rgba(60, 66, 82, 0.06);
  transform: scale(0.975);
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.walletconnect-modal__base__row__h3 {
  color: #25292e;
  font-size: 20px;
  font-weight: 700;
  margin: 0;
  padding-bottom: 3px;
}

.walletconnect-modal__base__row__right {
  align-items: center;
  display: flex;
  justify-content: center;
}

.walletconnect-modal__base__row__right__app-icon {
  border-radius: 8px;
  height: 34px;
  margin: 0 11px 2px 0;
  width: 34px;
  background-size: 100%;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-modal__base__row__right__caret {
  height: 18px;
  opacity: 0.3;
  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  width: 8px;
  will-change: opacity;
}

.walletconnect-modal__base__row:hover .caret,
.walletconnect-modal__base__row:active .caret {
  opacity: 0.6;
}

.walletconnect-modal__mobile__toggle {
  width: 80%;
  display: flex;
  margin: 0 auto;
  position: relative;
  overflow: hidden;
  border-radius: 8px;
  margin-bottom: 18px;
  background: #d4d5d9;
}

.walletconnect-modal__single_wallet {
  display: flex;
  justify-content: center;
  margin-top: 7px;
  margin-bottom: 18px;
}

.walletconnect-modal__single_wallet a {
  cursor: pointer;
  color: rgb(64, 153, 255);
  font-size: 21px;
  font-weight: 800;
  text-decoration: none !important;
  margin: 0 auto;
}

.walletconnect-modal__mobile__toggle_selector {
  width: calc(50% - 8px);
  background: white;
  position: absolute;
  border-radius: 5px;
  height: calc(100% - 8px);
  top: 4px;
  transition: all 0.2s ease-in-out;
  transform: translate3d(4px, 0, 0);
}

.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {
  transform: translate3d(calc(100% + 12px), 0, 0);
}

.walletconnect-modal__mobile__toggle a {
  font-size: 12px;
  width: 50%;
  text-align: center;
  padding: 8px;
  margin: 0;
  font-weight: 600;
  z-index: 1;
}

.walletconnect-modal__footer {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

@media only screen and (max-width: 768px) {
  .walletconnect-modal__footer {
    margin-top: 5vw;
  }
}

.walletconnect-modal__footer a {
  cursor: pointer;
  color: #898d97;
  font-size: 15px;
  margin: 0 auto;
}

@media only screen and (max-width: 320px) {
  .walletconnect-modal__footer a {
    font-size: 14px;
  }
}

.walletconnect-connect__buttons__wrapper {
  max-height: 44vh;
}

.walletconnect-connect__buttons__wrapper__android {
  margin: 50% 0;
}

.walletconnect-connect__buttons__wrapper__wrap {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  margin: 10px 0;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__buttons__wrapper__wrap {
    margin-top: 40px;
  }
}

.walletconnect-connect__button {
  background-color: rgb(64, 153, 255);
  padding: 12px;
  border-radius: 8px;
  text-decoration: none;
  color: rgb(255, 255, 255);
  font-weight: 500;
}

.walletconnect-connect__button__icon_anchor {
  cursor: pointer;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  margin: 8px;
  width: 42px;
  justify-self: center;
  flex-direction: column;
  text-decoration: none !important;
}

@media only screen and (max-width: 320px) {
  .walletconnect-connect__button__icon_anchor {
    margin: 4px;
  }
}

.walletconnect-connect__button__icon {
  border-radius: 10px;
  height: 42px;
  margin: 0;
  width: 42px;
  background-size: cover !important;
  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);
}

.walletconnect-connect__button__text {
  color: #424952;
  font-size: 2.7vw;
  text-decoration: none !important;
  padding: 0;
  margin-top: 1.8vw;
  font-weight: 600;
}

@media only screen and (min-width: 768px) {
  .walletconnect-connect__button__text {
    font-size: 16px;
    margin-top: 12px;
  }
}

.walletconnect-search__input {
  border: none;
  background: #d4d5d9;
  border-style: none;
  padding: 8px 16px;
  outline: none;
  font-style: normal;
  font-stretch: normal;
  font-size: 16px;
  font-style: normal;
  font-stretch: normal;
  line-height: normal;
  letter-spacing: normal;
  text-align: left;
  border-radius: 8px;
  width: calc(100% - 16px);
  margin: 0;
  margin-bottom: 8px;
}
`;typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function xl(t,e){try{var r=t()}catch(n){return e(n)}return r&&r.then?r.then(void 0,e):r}var Sl="data:image/svg+xml,%3Csvg height='185' viewBox='0 0 300 185' width='300' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m61.4385429 36.2562612c48.9112241-47.8881663 128.2119871-47.8881663 177.1232091 0l5.886545 5.7634174c2.445561 2.3944081 2.445561 6.2765112 0 8.6709204l-20.136695 19.715503c-1.222781 1.1972051-3.2053 1.1972051-4.428081 0l-8.100584-7.9311479c-34.121692-33.4079817-89.443886-33.4079817-123.5655788 0l-8.6750562 8.4936051c-1.2227816 1.1972041-3.205301 1.1972041-4.4280806 0l-20.1366949-19.7155031c-2.4455612-2.3944092-2.4455612-6.2765122 0-8.6709204zm218.7677961 40.7737449 17.921697 17.546897c2.445549 2.3943969 2.445563 6.2764769.000031 8.6708899l-80.810171 79.121134c-2.445544 2.394426-6.410582 2.394453-8.85616.000062-.00001-.00001-.000022-.000022-.000032-.000032l-57.354143-56.154572c-.61139-.598602-1.60265-.598602-2.21404 0-.000004.000004-.000007.000008-.000011.000011l-57.3529212 56.154531c-2.4455368 2.394432-6.4105755 2.394472-8.8561612.000087-.0000143-.000014-.0000296-.000028-.0000449-.000044l-80.81241943-79.122185c-2.44556021-2.394408-2.44556021-6.2765115 0-8.6709197l17.92172963-17.5468673c2.4455602-2.3944082 6.4105989-2.3944082 8.8561602 0l57.3549775 56.155357c.6113908.598602 1.602649.598602 2.2140398 0 .0000092-.000009.0000174-.000017.0000265-.000024l57.3521031-56.155333c2.445505-2.3944633 6.410544-2.3945531 8.856161-.0002.000034.0000336.000068.0000673.000101.000101l57.354902 56.155432c.61139.598601 1.60265.598601 2.21404 0l57.353975-56.1543249c2.445561-2.3944092 6.410599-2.3944092 8.85616 0z' fill='%233b99fc'/%3E%3C/svg%3E",Cl="WalletConnect",Rl=300,Al="rgb(64, 153, 255)",Ns="walletconnect-wrapper",Si="walletconnect-style-sheet",Us="walletconnect-qrcode-modal",Tl="walletconnect-qrcode-close",Fs="walletconnect-qrcode-text",Il="walletconnect-connect-button";function kl(t){return $.createElement("div",{className:"walletconnect-modal__header"},$.createElement("img",{src:Sl,className:"walletconnect-modal__headerLogo"}),$.createElement("p",null,Cl),$.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:t.onClose},$.createElement("div",{id:Tl,className:"walletconnect-modal__close__icon"},$.createElement("div",{className:"walletconnect-modal__close__line1"}),$.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Bl(t){return $.createElement("a",{className:"walletconnect-connect__button",href:t.href,id:Il+"-"+t.name,onClick:t.onClick,rel:"noopener noreferrer",style:{backgroundColor:t.color},target:"_blank"},t.name)}var Ll="data:image/svg+xml,%3Csvg fill='none' height='18' viewBox='0 0 8 18' width='8' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath clip-rule='evenodd' d='m.586301.213898c-.435947.33907-.5144813.967342-.175411 1.403292l4.87831 6.27212c.28087.36111.28087.86677 0 1.22788l-4.878311 6.27211c-.33907.436-.260536 1.0642.175412 1.4033.435949.3391 1.064219.2605 1.403289-.1754l4.87832-6.2721c.84259-1.08336.84259-2.60034 0-3.68367l-4.87832-6.27212c-.33907-.4359474-.96734-.514482-1.403289-.175412z' fill='%233c4252' fill-rule='evenodd'/%3E%3C/svg%3E";function Ol(t){var e=t.color,r=t.href,n=t.name,s=t.logo,i=t.onClick;return $.createElement("a",{className:"walletconnect-modal__base__row",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},$.createElement("h3",{className:"walletconnect-modal__base__row__h3"},n),$.createElement("div",{className:"walletconnect-modal__base__row__right"},$.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+s+"') "+e,backgroundSize:"100%"}}),$.createElement("img",{src:Ll,className:"walletconnect-modal__base__row__right__caret"})))}function Nl(t){var e=t.color,r=t.href,n=t.name,s=t.logo,i=t.onClick,d=window.innerWidth<768?(n.length>8?2.5:2.7)+"vw":"inherit";return $.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:r,onClick:i,rel:"noopener noreferrer",target:"_blank"},$.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+s+"') "+e,backgroundSize:"100%"}}),$.createElement("div",{style:{fontSize:d},className:"walletconnect-connect__button__text"},n))}var Ul=5,Nr=12;function Fl(t){var e=Oe.isAndroid(),r=$.useState(""),n=r[0],s=r[1],i=$.useState(""),d=i[0],h=i[1],b=$.useState(1),R=b[0],E=b[1],B=d?t.links.filter(function(L){return L.name.toLowerCase().includes(d.toLowerCase())}):t.links,F=t.errorMessage,N=d||B.length>Ul,O=Math.ceil(B.length/Nr),q=[(R-1)*Nr+1,R*Nr],C=B.length?B.filter(function(L,H){return H+1>=q[0]&&H+1<=q[1]}):[],A=!e&&O>1,I=void 0;function T(L){s(L.target.value),clearTimeout(I),L.target.value?I=setTimeout(function(){h(L.target.value),E(1)},1e3):(s(""),h(""),E(1))}return $.createElement("div",null,$.createElement("p",{id:Fs,className:"walletconnect-qrcode__text"},e?t.text.connect_mobile_wallet:t.text.choose_preferred_wallet),!e&&$.createElement("input",{className:"walletconnect-search__input",placeholder:"Search",value:n,onChange:T}),$.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(e?"__android":N&&B.length?"__wrap":"")},e?$.createElement(Bl,{name:t.text.connect,color:Al,href:t.uri,onClick:$.useCallback(function(){Oe.saveMobileLinkInfo({name:"Unknown",href:t.uri})},[])}):C.length?C.map(function(L){var H=L.color,W=L.name,V=L.shortName,j=L.logo,ie=Oe.formatIOSMobile(t.uri,L),M=$.useCallback(function(){Oe.saveMobileLinkInfo({name:W,href:ie})},[C]);return N?$.createElement(Nl,{color:H,href:ie,name:V||W,logo:j,onClick:M}):$.createElement(Ol,{color:H,href:ie,name:W,logo:j,onClick:M})}):$.createElement($.Fragment,null,$.createElement("p",null,F.length?t.errorMessage:t.links.length&&!B.length?t.text.no_wallets_found:t.text.loading))),A&&$.createElement("div",{className:"walletconnect-modal__footer"},Array(O).fill(0).map(function(L,H){var W=H+1,V=R===W;return $.createElement("a",{style:{margin:"auto 10px",fontWeight:V?"bold":"normal"},onClick:function(){return E(W)}},W)})))}function Pl(t){var e=!!t.message.trim();return $.createElement("div",{className:"walletconnect-qrcode__notification"+(e?" notification__show":"")},t.message)}var Dl=function(t){try{var e="";return Promise.resolve(Os.toString(t,{margin:0,type:"svg"})).then(function(r){return typeof r=="string"&&(e=r.replace("<svg",'<svg class="walletconnect-qrcode__image"')),e})}catch(r){return Promise.reject(r)}};function ql(t){var e=$.useState(""),r=e[0],n=e[1],s=$.useState(""),i=s[0],d=s[1];$.useEffect(function(){try{return Promise.resolve(Dl(t.uri)).then(function(b){d(b)})}catch(b){Promise.reject(b)}},[]);var h=function(){var b=bl(t.uri);b?(n(t.text.copied_to_clipboard),setInterval(function(){return n("")},1200)):(n("Error"),setInterval(function(){return n("")},1200))};return $.createElement("div",null,$.createElement("p",{id:Fs,className:"walletconnect-qrcode__text"},t.text.scan_qrcode_with_wallet),$.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),$.createElement("div",{className:"walletconnect-modal__footer"},$.createElement("a",{onClick:h},t.text.copy_to_clipboard)),$.createElement(Pl,{message:r}))}function $l(t){var e=Oe.isAndroid(),r=Oe.isMobile(),n=r?t.qrcodeModalOptions&&t.qrcodeModalOptions.mobileLinks?t.qrcodeModalOptions.mobileLinks:void 0:t.qrcodeModalOptions&&t.qrcodeModalOptions.desktopLinks?t.qrcodeModalOptions.desktopLinks:void 0,s=$.useState(!1),i=s[0],d=s[1],h=$.useState(!1),b=h[0],R=h[1],E=$.useState(!r),B=E[0],F=E[1],N={mobile:r,text:t.text,uri:t.uri,qrcodeModalOptions:t.qrcodeModalOptions},O=$.useState(""),q=O[0],C=O[1],A=$.useState(!1),I=A[0],T=A[1],L=$.useState([]),H=L[0],W=L[1],V=$.useState(""),j=V[0],ie=V[1],M=function(){b||i||n&&!n.length||H.length>0||$.useEffect(function(){var f=function(){try{if(e)return Promise.resolve();d(!0);var p=xl(function(){var l=t.qrcodeModalOptions&&t.qrcodeModalOptions.registryUrl?t.qrcodeModalOptions.registryUrl:Oe.getWalletRegistryUrl();return Promise.resolve(fetch(l)).then(function(g){return Promise.resolve(g.json()).then(function(w){var S=w.listings,m=r?"mobile":"desktop",a=Oe.getMobileLinkRegistry(Oe.formatMobileRegistry(S,m),n);d(!1),R(!0),ie(a.length?"":t.text.no_supported_wallets),W(a);var _=a.length===1;_&&(C(Oe.formatIOSMobile(t.uri,a[0])),F(!0)),T(_)})})},function(l){d(!1),R(!0),ie(t.text.something_went_wrong),console.error(l)});return Promise.resolve(p&&p.then?p.then(function(){}):void 0)}catch(l){return Promise.reject(l)}};f()})};M();var o=r?B:!B;return $.createElement("div",{id:Us,className:"walletconnect-qrcode__base animated fadeIn"},$.createElement("div",{className:"walletconnect-modal__base"},$.createElement(kl,{onClose:t.onClose}),I&&B?$.createElement("div",{className:"walletconnect-modal__single_wallet"},$.createElement("a",{onClick:function(){return Oe.saveMobileLinkInfo({name:H[0].name,href:q})},href:q,rel:"noopener noreferrer",target:"_blank"},t.text.connect_with+" "+(I?H[0].name:"")+" ›")):e||i||!i&&H.length?$.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(o?" right__selected":"")},$.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),r?$.createElement($.Fragment,null,$.createElement("a",{onClick:function(){return F(!1),M()}},t.text.mobile),$.createElement("a",{onClick:function(){return F(!0)}},t.text.qrcode)):$.createElement($.Fragment,null,$.createElement("a",{onClick:function(){return F(!0)}},t.text.qrcode),$.createElement("a",{onClick:function(){return F(!1),M()}},t.text.desktop))):null,$.createElement("div",null,B||!e&&!i&&!H.length?$.createElement(ql,Object.assign({},N)):$.createElement(Fl,Object.assign({},N,{links:H,errorMessage:j})))))}var Hl={choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!",connect_with:"Verbinden mit Hilfe von",loading:"Laden...",something_went_wrong:"Etwas ist schief gelaufen",no_supported_wallets:"Es gibt noch keine unterstützten Wallet",no_wallets_found:"keine Wallet gefunden"},Wl={choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!",connect_with:"Connect with",loading:"Loading...",something_went_wrong:"Something went wrong",no_supported_wallets:"There are no supported wallets yet",no_wallets_found:"No wallets found"},zl={choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Conectar mediante",loading:"Cargando...",something_went_wrong:"Algo salió mal",no_supported_wallets:"Todavía no hay billeteras compatibles",no_wallets_found:"No se encontraron billeteras"},jl={choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",desktop:"Desktop",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!",connect_with:"Connectez-vous à l'aide de",loading:"Chargement...",something_went_wrong:"Quelque chose a mal tourné",no_supported_wallets:"Il n'y a pas encore de portefeuilles pris en charge",no_wallets_found:"Aucun portefeuille trouvé"},Jl={choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",desktop:"데스크탑",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!",connect_with:"와 연결하다",loading:"로드 중...",something_went_wrong:"문제가 발생했습니다.",no_supported_wallets:"아직 지원되는 지갑이 없습니다",no_wallets_found:"지갑을 찾을 수 없습니다"},Vl={choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",desktop:"Desktop",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!",connect_with:"Ligar por meio de",loading:"Carregamento...",something_went_wrong:"Algo correu mal",no_supported_wallets:"Ainda não há carteiras suportadas",no_wallets_found:"Nenhuma carteira encontrada"},Kl={choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",desktop:"桌面",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！",connect_with:"通过以下方式连接",loading:"正在加载...",something_went_wrong:"出了问题",no_supported_wallets:"目前还没有支持的钱包",no_wallets_found:"没有找到钱包"},Yl={choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",desktop:"دسکتاپ",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!",connect_with:"ارتباط با",loading:"...بارگذاری",something_went_wrong:"مشکلی پیش آمد",no_supported_wallets:"هنوز هیچ کیف پول پشتیبانی شده ای وجود ندارد",no_wallets_found:"هیچ کیف پولی پیدا نشد"},Ci={de:Hl,en:Wl,es:zl,fr:jl,ko:Jl,pt:Vl,zh:Kl,fa:Yl};function Ql(){var t=Oe.getDocumentOrThrow(),e=t.getElementById(Si);e&&t.head.removeChild(e);var r=t.createElement("style");r.setAttribute("id",Si),r.innerText=El,t.head.appendChild(r)}function Gl(){var t=Oe.getDocumentOrThrow(),e=t.createElement("div");return e.setAttribute("id",Ns),t.body.appendChild(e),e}function Ps(){var t=Oe.getDocumentOrThrow(),e=t.getElementById(Us);e&&(e.className=e.className.replace("fadeIn","fadeOut"),setTimeout(function(){var r=t.getElementById(Ns);r&&t.body.removeChild(r)},Rl))}function Zl(t){return function(){Ps(),t&&t()}}function Xl(){var t=Oe.getNavigatorOrThrow().language.split("-")[0]||"en";return Ci[t]||Ci.en}function eh(t,e,r){Ql();var n=Gl();$.render($.createElement($l,{text:Xl(),uri:t,onClose:Zl(e),qrcodeModalOptions:r}),n)}function th(){Ps()}var Ds=function(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"};function rh(t,e,r){console.log(t),Ds()?Ml(t):eh(t,e,r)}function nh(){Ds()||th()}var ih={open:rh,close:nh},oh=ih;class sh extends ua{constructor(e){super(),this.events=new Ai,this.accounts=[],this.chainId=1,this.pending=!1,this.bridge="https://bridge.walletconnect.org",this.qrcode=!0,this.qrcodeModalOptions=void 0,this.opts=e,this.chainId=(e==null?void 0:e.chainId)||this.chainId,this.wc=this.register(e)}get connected(){return typeof this.wc<"u"&&this.wc.connected}get connecting(){return this.pending}get connector(){return this.wc=this.register(this.opts),this.wc}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e){if(this.connected){this.onOpen();return}return new Promise((r,n)=>{this.on("error",s=>{n(s)}),this.on("open",()=>{r()}),this.create(e)})}async close(){typeof this.wc>"u"||(this.wc.connected&&this.wc.killSession(),this.onClose())}async send(e){this.wc=this.register(this.opts),this.connected||await this.open(),this.sendPayload(e).then(r=>this.events.emit("payload",r)).catch(r=>this.events.emit("payload",Ur(e.id,r.message)))}register(e){if(this.wc)return this.wc;this.opts=e||this.opts,this.bridge=e!=null&&e.connector?e.connector.bridge:(e==null?void 0:e.bridge)||"https://bridge.walletconnect.org",this.qrcode=typeof(e==null?void 0:e.qrcode)>"u"||e.qrcode!==!1,this.chainId=typeof(e==null?void 0:e.chainId)<"u"?e.chainId:this.chainId,this.qrcodeModalOptions=e==null?void 0:e.qrcodeModalOptions;const r={bridge:this.bridge,qrcodeModal:this.qrcode?oh:void 0,qrcodeModalOptions:this.qrcodeModalOptions,storageId:e==null?void 0:e.storageId,signingMethods:e==null?void 0:e.signingMethods,clientMeta:e==null?void 0:e.clientMeta};if(this.wc=typeof(e==null?void 0:e.connector)<"u"?e.connector:new Wu(r),typeof this.wc>"u")throw new Error("Failed to register WalletConnect connector");return this.wc.accounts.length&&(this.accounts=this.wc.accounts),this.wc.chainId&&(this.chainId=this.wc.chainId),this.registerConnectorEvents(),this.wc}onOpen(e){this.pending=!1,e&&(this.wc=e),this.events.emit("open")}onClose(){this.pending=!1,this.wc&&(this.wc=void 0),this.events.emit("close")}onError(e,r="Failed or Rejected Request",n=-32e3,s){const i={id:e.id,jsonrpc:e.jsonrpc,error:{code:n,message:r}};return typeof s<"u"&&(i.error.data=s),this.events.emit("payload",i),i}create(e){this.wc=this.register(this.opts),this.chainId=e||this.chainId,!(this.connected||this.pending)&&(this.pending=!0,this.registerConnectorEvents(),this.wc.createSession({chainId:this.chainId}).then(()=>this.events.emit("created")).catch(r=>this.events.emit("error",r)))}registerConnectorEvents(){this.wc=this.register(this.opts),this.wc.on("connect",e=>{var r,n;if(e){this.events.emit("error",e);return}this.accounts=((r=this.wc)===null||r===void 0?void 0:r.accounts)||[],this.chainId=((n=this.wc)===null||n===void 0?void 0:n.chainId)||this.chainId,this.onOpen()}),this.wc.on("disconnect",e=>{if(e){this.events.emit("error",e);return}this.onClose()}),this.wc.on("modal_closed",()=>{this.events.emit("error",new Error("User closed modal"))}),this.wc.on("session_update",(e,r)=>{const{accounts:n,chainId:s}=r.params[0];(!this.accounts||n&&this.accounts!==n)&&(this.accounts=n,this.events.emit("accountsChanged",n)),(!this.chainId||s&&this.chainId!==s)&&(this.chainId=s,this.events.emit("chainChanged",s))})}async sendPayload(e){this.wc=this.register(this.opts);try{const r=await this.wc.unsafeSend(e);return this.sanitizeResponse(r)}catch(r){return this.onError(e,r.message)}}sanitizeResponse(e){return typeof e.error<"u"&&typeof e.error.code>"u"?Ur(e.id,e.error.message,e.error.data):e}}class ch{constructor(e){this.events=new Ai,this.rpc={infuraId:e==null?void 0:e.infuraId,custom:e==null?void 0:e.rpc},this.signer=new Hn(new sh(e));const r=this.signer.connection.chainId||(e==null?void 0:e.chainId)||1;this.http=this.setHttpProvider(r),this.registerEventListeners()}get connected(){return this.signer.connection.connected}get connector(){return this.signer.connection.connector}get accounts(){return this.signer.connection.accounts}get chainId(){return this.signer.connection.chainId}get rpcUrl(){var e;return((e=this.http)===null||e===void 0?void 0:e.connection).url||""}async request(e){switch(e.method){case"eth_requestAccounts":return await this.connect(),this.signer.connection.accounts;case"eth_accounts":return this.signer.connection.accounts;case"eth_chainId":return this.signer.connection.chainId}if(sn.includes(e.method))return this.signer.request(e);if(typeof this.http>"u")throw new Error(`Cannot request JSON-RPC method (${e.method}) without provided rpc url`);return this.http.request(e)}sendAsync(e,r){this.request(e).then(n=>r(null,n)).catch(n=>r(n,void 0))}async enable(){return await this.request({method:"eth_requestAccounts"})}async connect(){this.signer.connection.connected||await this.signer.connect()}async disconnect(){this.signer.connection.connected&&await this.signer.disconnect()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}registerEventListeners(){this.signer.connection.on("accountsChanged",e=>{this.events.emit("accountsChanged",e)}),this.signer.connection.on("chainChanged",e=>{this.http=this.setHttpProvider(e),this.events.emit("chainChanged",e)}),this.signer.on("disconnect",()=>{this.events.emit("disconnect")})}setHttpProvider(e){const r=Fc(e,this.rpc);return typeof r>"u"?void 0:new Hn(new ba(r))}}export{ch as default};
